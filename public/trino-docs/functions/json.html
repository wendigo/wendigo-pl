


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="ipaddress.html">
      
      
        <link rel="next" href="lambda.html">
      
      
      <link rel="icon" href="">
    
    
      
        <title>JSON functions and operators - Trino 476-SNAPSHOT Documentation</title>
      
    
    
      
        
      
      


    
    
      
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../_static/sphinx_immaterial_theme.96fe8683ff2bd71e9.min.css?v=13adf062" />
        <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
        <link rel="stylesheet" type="text/css" href="../_static/trino.css?v=c5cc3cca" />
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Trino 476-SNAPSHOT Documentation" class="md-header__button md-logo" aria-label="Trino 476-SNAPSHOT Documentation" data-md-component="logo">
      <img src="../_static/trino.svg" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Trino 476-SNAPSHOT Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              JSON functions and operators
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/trinodb/trino" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    Trino
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Trino 476-SNAPSHOT Documentation" class="md-nav__button md-logo" aria-label="Trino 476-SNAPSHOT Documentation" data-md-component="logo">
      <img src="../_static/trino.svg" alt="logo">
    </a>
    Trino 476-SNAPSHOT Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/trinodb/trino" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    Trino
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../client.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Clients
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../security.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Administration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../optimizer.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Query optimizer
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../connector.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connectors
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../object-storage.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Object storage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../functions.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Functions and operators
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Functions and operators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="list.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    List of functions and operators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="list-by-topic.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    List of functions by topic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="aggregate.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aggregate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="ai.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="array.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Array
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="binary.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Binary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="bitwise.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bitwise
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="color.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Color
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="comparison.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comparison
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="conditional.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conditional
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="conversion.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conversion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="datetime.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span title="timezone.time(p) with time zone (Python parameter)">Date and time</span>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="decimal.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Decimal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="geospatial.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Geospatial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="hyperloglog.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hyper<wbr>Log<wbr>Log
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="ipaddress.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IP Address
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      <a href="#" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    JSON
    
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="lambda.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lambda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="logical.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logical
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="ml.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Machine learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="map.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Map
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="math.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span title="cosine_similarity.x (Python parameter)">Math</span>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="qdigest.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quantile digest
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="regexp.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Regular expression
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="session.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Session
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="setdigest.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Set Digest
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="string.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    String
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="system.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="table.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Table
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="teradata.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Teradata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="tdigest.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T-<wbr>Digest
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="url.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    URL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="uuid.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UUID
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="window.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Window
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../udf.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User-<wbr>defined functions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../language.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQL language
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../sql.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQL statement syntax
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../develop.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../glossary.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../appendix.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Appendix
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../release.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release notes
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                
                
                  


<h1 id="json-functions-and-operators">JSON functions and operators<a class="headerlink" href="#json-functions-and-operators" title="Link to this heading">#</a></h1>
<p>The SQL standard describes functions and operators to process JSON data. They
allow you to access JSON data according to its structure, generate JSON data,
and store it persistently in SQL tables.</p>
<p>Importantly, the SQL standard imposes that there is no dedicated data type to
represent JSON data in SQL. Instead, JSON data is represented as character or
binary strings. Although Trino supports <code class="docutils literal notranslate"><span class="pre">JSON</span></code> type, it is not used or
produced by the following functions.</p>
<p>Trino supports three functions for querying JSON data:
<a class="reference internal" href="#json-exists"><span class="std std-ref">json_exists</span></a>,
<a class="reference internal" href="#json-query"><span class="std std-ref">json_query</span></a>, and <a class="reference internal" href="#json-value"><span class="std std-ref">json_value</span></a>. Each of them
is based on the same mechanism of exploring and processing JSON input using
JSON path.</p>
<p>Trino also supports two functions for generating JSON data –
<a class="reference internal" href="#json-array"><span class="std std-ref">json_array</span></a>, and <a class="reference internal" href="#json-object"><span class="std std-ref">json_object</span></a>.</p>
<h2 id="json-path-language"><span id="id1"></span>JSON path language<a class="headerlink" href="#json-path-language" title="Link to this heading">#</a></h2>
<p>The JSON path language is a special language, used exclusively by certain SQL
operators to specify the query to perform on the JSON input. Although JSON path
expressions are embedded in SQL queries, their syntax significantly differs
from SQL. The semantics of predicates, operators, etc. in JSON path expressions
generally follow the semantics of SQL. The JSON path language is case-sensitive
for keywords and identifiers.</p>
<h3 id="json-path-syntax-and-semantics"><span id="id2"></span>JSON path syntax and semantics<a class="headerlink" href="#json-path-syntax-and-semantics" title="Link to this heading">#</a></h3>
<p>JSON path expressions are recursive structures. Although the name “path”
suggests a linear sequence of operations going step by step deeper into the JSON
structure, a JSON path expression is in fact a tree. It can access the input
JSON item multiple times, in multiple ways, and combine the results. Moreover,
the result of a JSON path expression is not a single item, but an ordered
sequence of items. Each of the sub-expressions takes one or more input
sequences, and returns a sequence as the result.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>In the lax mode, most path operations first unnest all JSON arrays in the
input sequence. Any divergence from this rule is mentioned in the following
listing. Path modes are explained in <a class="reference internal" href="#json-path-modes"><span class="std std-ref">JSON path modes</span></a>.</p>
</div>
<p>The JSON path language features are divided into: literals, variables,
arithmetic binary expressions, arithmetic unary expressions, and a group of
operators collectively known as accessors.</p>
<h4 id="literals">literals<a class="headerlink" href="#literals" title="Link to this heading">#</a></h4>
<ul>
<li><p>numeric literals</p>
<p>They include exact and approximate numbers, and are interpreted as if they
were SQL values.</p>
</li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>-1, 1.2e3, NaN
</code></pre></div>
</div>
<ul>
<li><p>string literals</p>
<p>They are enclosed in double quotes.</p>
</li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&quot;Some text&quot;
</code></pre></div>
</div>
<ul class="simple">
<li><p>boolean literals</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>true, false
</code></pre></div>
</div>
<ul>
<li><p>null literal</p>
<p>It has the semantics of the JSON null, not of SQL null. See <a class="reference internal" href="#json-comparison-rules"><span class="std std-ref">Comparison rules</span></a>.</p>
</li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>null
</code></pre></div>
</div>
<h4 id="variables">variables<a class="headerlink" href="#variables" title="Link to this heading">#</a></h4>
<ul>
<li><p>context variable</p>
<p>It refers to the currently processed input of the JSON
function.</p>
</li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>$
</code></pre></div>
</div>
<ul>
<li><p>named variable</p>
<p>It refers to a named parameter by its name.</p>
</li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>$param
</code></pre></div>
</div>
<ul>
<li><p>current item variable</p>
<p>It is used inside the filter expression to refer to the currently processed
item from the input sequence.</p>
</li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>@
</code></pre></div>
</div>
<ul>
<li><p>last subscript variable</p>
<p>It refers to the last index of the innermost enclosing array. Array indexes
in JSON path expressions are zero-based.</p>
</li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>last
</code></pre></div>
</div>
<h4 id="arithmetic-binary-expressions">arithmetic binary expressions<a class="headerlink" href="#arithmetic-binary-expressions" title="Link to this heading">#</a></h4>
<p>The JSON path language supports five arithmetic binary operators:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path1&gt; + &lt;path2&gt;
&lt;path1&gt; - &lt;path2&gt;
&lt;path1&gt; * &lt;path2&gt;
&lt;path1&gt; / &lt;path2&gt;
&lt;path1&gt; % &lt;path2&gt;
</code></pre></div>
</div>
<p>Both operands, <code class="docutils literal notranslate"><span class="pre">&lt;path1&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;path2&gt;</span></code>, are evaluated to sequences of
items. For arithmetic binary operators, each input sequence must contain a
single numeric item. The arithmetic operation is performed according to SQL
semantics, and it returns a sequence containing a single element with the
result.</p>
<p>The operators follow the same precedence rules as in SQL arithmetic operations,
and parentheses can be used for grouping.</p>
<h4 id="arithmetic-unary-expressions">arithmetic unary expressions<a class="headerlink" href="#arithmetic-unary-expressions" title="Link to this heading">#</a></h4>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>+ &lt;path&gt;
- &lt;path&gt;
</code></pre></div>
</div>
<p>The operand <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> is evaluated to a sequence of items. Every item must be
a numeric value. The unary plus or minus is applied to every item in the
sequence, following SQL semantics, and the results form the returned sequence.</p>
<h4 id="member-accessor">member accessor<a class="headerlink" href="#member-accessor" title="Link to this heading">#</a></h4>
<p>The member accessor returns the value of the member with the specified key for
each JSON object in the input sequence.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;.key
&lt;path&gt;.&quot;key&quot;
</code></pre></div>
</div>
<p>The condition when a JSON object does not have such a member is called a
structural error. In the lax mode, it is suppressed, and the faulty object is
excluded from the result.</p>
<p>Let <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> return a sequence of three JSON objects:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>{&quot;customer&quot; : 100, &quot;region&quot; : &quot;AFRICA&quot;},
{&quot;region&quot; : &quot;ASIA&quot;},
{&quot;customer&quot; : 300, &quot;region&quot; : &quot;AFRICA&quot;, &quot;comment&quot; : null}
</code></pre></div>
</div>
<p>the expression <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;.customer</span></code> succeeds in the first and the third object,
but the second object lacks the required member. In strict mode, path
evaluation fails. In lax mode, the second object is silently skipped, and the
resulting sequence is <code class="docutils literal notranslate"><span class="pre">100,</span> <span class="pre">300</span></code>.</p>
<p>All items in the input sequence must be JSON objects.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>Trino does not support JSON objects with duplicate keys.</p>
</div>
<h4 id="wildcard-member-accessor">wildcard member accessor<a class="headerlink" href="#wildcard-member-accessor" title="Link to this heading">#</a></h4>
<p>Returns values from all key-value pairs for each JSON object in the input
sequence. All the partial results are concatenated into the returned sequence.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;.*
</code></pre></div>
</div>
<p>Let <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> return a sequence of three JSON objects:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>{&quot;customer&quot; : 100, &quot;region&quot; : &quot;AFRICA&quot;},
{&quot;region&quot; : &quot;ASIA&quot;},
{&quot;customer&quot; : 300, &quot;region&quot; : &quot;AFRICA&quot;, &quot;comment&quot; : null}
</code></pre></div>
</div>
<p>The results is:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>100, &quot;AFRICA&quot;, &quot;ASIA&quot;, 300, &quot;AFRICA&quot;, null
</code></pre></div>
</div>
<p>All items in the input sequence must be JSON objects.</p>
<p>The order of values returned from a single JSON object is arbitrary. The
sub-sequences from all JSON objects are concatenated in the same order in which
the JSON objects appear in the input sequence.</p>
<h4 id="descendant-member-accessor"><span id="json-descendant-member-accessor"></span>descendant member accessor<a class="headerlink" href="#descendant-member-accessor" title="Link to this heading">#</a></h4>
<p>Returns the values associated with the specified key in all JSON objects on all
levels of nesting in the input sequence.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;..key
&lt;path&gt;..&quot;key&quot;
</code></pre></div>
</div>
<p>The order of returned values is that of preorder depth first search. First, the
enclosing object is visited, and then all child nodes are visited.</p>
<p>This method does not perform array unwrapping in the lax mode. The results
are the same in the lax and strict modes. The method traverses into JSON
arrays and JSON objects. Non-structural JSON items are skipped.</p>
<p>Let <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> be a sequence containing a JSON object:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>{
    &quot;id&quot; : 1,
    &quot;notes&quot; : [{&quot;type&quot; : 1, &quot;comment&quot; : &quot;foo&quot;}, {&quot;type&quot; : 2, &quot;comment&quot; : null}],
    &quot;comment&quot; : [&quot;bar&quot;, &quot;baz&quot;]
}
</code></pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;..comment --&gt; [&quot;bar&quot;, &quot;baz&quot;], &quot;foo&quot;, null
</code></pre></div>
</div>
<h4 id="array-accessor">array accessor<a class="headerlink" href="#array-accessor" title="Link to this heading">#</a></h4>
<p>Returns the elements at the specified indexes for each JSON array in the input
sequence. Indexes are zero-based.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;[ &lt;subscripts&gt; ]
</code></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;subscripts&gt;</span></code> list contains one or more subscripts. Each subscript
specifies a single index or a range (ends inclusive):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;[&lt;path1&gt;, &lt;path2&gt; to &lt;path3&gt;, &lt;path4&gt;,...]
</code></pre></div>
</div>
<p>In lax mode, any non-array items resulting from the evaluation of the input
sequence are wrapped into single-element arrays. Note that this is an exception
to the rule of automatic array wrapping.</p>
<p>Each array in the input sequence is processed in the following way:</p>
<ul class="simple">
<li><p>The variable <code class="docutils literal notranslate"><span class="pre">last</span></code> is set to the last index of the array.</p></li>
<li><p>All subscript indexes are computed in order of declaration. For a
singleton subscript <code class="docutils literal notranslate"><span class="pre">&lt;path1&gt;</span></code>, the result must be a singleton numeric item.
For a range subscript <code class="docutils literal notranslate"><span class="pre">&lt;path2&gt;</span> <span class="pre">to</span> <span class="pre">&lt;path3&gt;</span></code>, two numeric items are expected.</p></li>
<li><p>The specified array elements are added in order to the output sequence.</p></li>
</ul>
<p>Let <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> return a sequence of three JSON arrays:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>[0, 1, 2], [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;], [null, null]
</code></pre></div>
</div>
<p>The following expression returns a sequence containing the last element from
every array:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;[last] --&gt; 2, &quot;d&quot;, null
</code></pre></div>
</div>
<p>The following expression returns the third and fourth element from every array:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;[2 to 3] --&gt; 2, &quot;c&quot;, &quot;d&quot;
</code></pre></div>
</div>
<p>Note that the first array does not have the fourth element, and the last array
does not have the third or fourth element. Accessing non-existent elements is a
structural error. In strict mode, it causes the path expression to fail. In lax
mode, such errors are suppressed, and only the existing elements are returned.</p>
<p>Another example of a structural error is an improper range specification such
as <code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">to</span> <span class="pre">3</span></code>.</p>
<p>Note that the subscripts may overlap, and they do not need to follow the
element order. The order in the returned sequence follows the subscripts:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;[1, 0, 0] --&gt; 1, 0, 0, &quot;b&quot;, &quot;a&quot;, &quot;a&quot;, null, null, null
</code></pre></div>
</div>
<h4 id="wildcard-array-accessor">wildcard array accessor<a class="headerlink" href="#wildcard-array-accessor" title="Link to this heading">#</a></h4>
<p>Returns all elements of each JSON array in the input sequence.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;[*]
</code></pre></div>
</div>
<p>In lax mode, any non-array items resulting from the evaluation of the input
sequence are wrapped into single-element arrays. Note that this is an exception
to the rule of automatic array wrapping.</p>
<p>The output order follows the order of the original JSON arrays. Also, the order
of elements within the arrays is preserved.</p>
<p>Let <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> return a sequence of three JSON arrays:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>[0, 1, 2], [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;], [null, null]
&lt;path&gt;[*] --&gt; 0, 1, 2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, null, null
</code></pre></div>
</div>
<h4 id="filter">filter<a class="headerlink" href="#filter" title="Link to this heading">#</a></h4>
<p>Retrieves the items from the input sequence which satisfy the predicate.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;?( &lt;predicate&gt; )
</code></pre></div>
</div>
<p>JSON path predicates are syntactically similar to boolean expressions in SQL.
However, the semantics are different in many aspects:</p>
<ul class="simple">
<li><p>They operate on sequences of items.</p></li>
<li><p>They have their own error handling (they never fail).</p></li>
<li><p>They behave different depending on the lax or strict mode.</p></li>
</ul>
<p>The predicate evaluates to <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code>, or <code class="docutils literal notranslate"><span class="pre">unknown</span></code>. Note that some
predicate expressions involve nested JSON path expression. When evaluating the
nested path, the variable <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> refers to the currently examined item from the
input sequence.</p>
<p>The following predicate expressions are supported:</p>
<ul class="simple">
<li><p>Conjunction</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;predicate1&gt; &amp;&amp; &lt;predicate2&gt;
</code></pre></div>
</div>
<ul class="simple">
<li><p>Disjunction</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;predicate1&gt; || &lt;predicate2&gt;
</code></pre></div>
</div>
<ul class="simple">
<li><p>Negation</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>! &lt;predicate&gt;
</code></pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">exists</span></code> predicate</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>exists( &lt;path&gt; )
</code></pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the nested path evaluates to a non-empty sequence, and
<code class="docutils literal notranslate"><span class="pre">false</span></code> when the nested path evaluates to an empty sequence. If the path
evaluation throws an error, returns <code class="docutils literal notranslate"><span class="pre">unknown</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">starts</span> <span class="pre">with</span></code> predicate</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt; starts with &quot;Some text&quot;
&lt;path&gt; starts with $variable
</code></pre></div>
</div>
<p>The nested <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> must evaluate to a sequence of textual items, and the
other operand must evaluate to a single textual item. If evaluating of either
operand throws an error, the result is <code class="docutils literal notranslate"><span class="pre">unknown</span></code>. All items from the sequence
are checked for starting with the right operand. The result is <code class="docutils literal notranslate"><span class="pre">true</span></code> if a
match is found, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. However, if any of the comparisons throws
an error, the result in the strict mode is <code class="docutils literal notranslate"><span class="pre">unknown</span></code>. The result in the lax
mode depends on whether the match or the error was found first.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">unknown</span></code> predicate</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>( &lt;predicate&gt; ) is unknown
</code></pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the nested predicate evaluates to <code class="docutils literal notranslate"><span class="pre">unknown</span></code>, and
<code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
<ul class="simple">
<li><p>Comparisons</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path1&gt; == &lt;path2&gt;
&lt;path1&gt; &lt;&gt; &lt;path2&gt;
&lt;path1&gt; != &lt;path2&gt;
&lt;path1&gt; &lt; &lt;path2&gt;
&lt;path1&gt; &gt; &lt;path2&gt;
&lt;path1&gt; &lt;= &lt;path2&gt;
&lt;path1&gt; &gt;= &lt;path2&gt;
</code></pre></div>
</div>
<p>Both operands of a comparison evaluate to sequences of items. If either
evaluation throws an error, the result is <code class="docutils literal notranslate"><span class="pre">unknown</span></code>. Items from the left and
right sequence are then compared pairwise. Similarly to the <code class="docutils literal notranslate"><span class="pre">starts</span> <span class="pre">with</span></code>
predicate, the result is <code class="docutils literal notranslate"><span class="pre">true</span></code> if any of the comparisons returns <code class="docutils literal notranslate"><span class="pre">true</span></code>,
otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. However, if any of the comparisons throws an error, for
example because the compared types are not compatible, the result in the strict
mode is <code class="docutils literal notranslate"><span class="pre">unknown</span></code>. The result in the lax mode depends on whether the <code class="docutils literal notranslate"><span class="pre">true</span></code>
comparison or the error was found first.</p>
<h5 id="comparison-rules"><span id="json-comparison-rules"></span>Comparison rules<a class="headerlink" href="#comparison-rules" title="Link to this heading">#</a></h5>
<p>Null values in the context of comparison behave different than SQL null:</p>
<ul class="simple">
<li><p>null == null –&gt; <code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
<li><p>null != null, null &lt; null, … –&gt; <code class="docutils literal notranslate"><span class="pre">false</span></code></p></li>
<li><p>null compared to a scalar value –&gt; <code class="docutils literal notranslate"><span class="pre">false</span></code></p></li>
<li><p>null compared to a JSON array or a JSON object –&gt; <code class="docutils literal notranslate"><span class="pre">false</span></code></p></li>
</ul>
<p>When comparing two scalar values, <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code> is returned if the
comparison is successfully performed. The semantics of the comparison is the
same as in SQL. In case of an error, e.g. comparing text and number,
<code class="docutils literal notranslate"><span class="pre">unknown</span></code> is returned.</p>
<p>Comparing a scalar value with a JSON array or a JSON object, and comparing JSON
arrays/objects is an error, so <code class="docutils literal notranslate"><span class="pre">unknown</span></code> is returned.</p>
<h5 id="examples-of-filter">Examples of filter<a class="headerlink" href="#examples-of-filter" title="Link to this heading">#</a></h5>
<p>Let <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> return a sequence of three JSON objects:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>{&quot;customer&quot; : 100, &quot;region&quot; : &quot;AFRICA&quot;},
{&quot;region&quot; : &quot;ASIA&quot;},
{&quot;customer&quot; : 300, &quot;region&quot; : &quot;AFRICA&quot;, &quot;comment&quot; : null}
</code></pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;?(@.region != &quot;ASIA&quot;) --&gt; {&quot;customer&quot; : 100, &quot;region&quot; : &quot;AFRICA&quot;},
                                {&quot;customer&quot; : 300, &quot;region&quot; : &quot;AFRICA&quot;, &quot;comment&quot; : null}
&lt;path&gt;?(!exists(@.customer)) --&gt; {&quot;region&quot; : &quot;ASIA&quot;}
</code></pre></div>
</div>
<p>The following accessors are collectively referred to as <strong>item methods</strong>.</p>
<h4 id="double">double()<a class="headerlink" href="#double" title="Link to this heading">#</a></h4>
<p>Converts numeric or text values into double values.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;.double()
</code></pre></div>
</div>
<p>Let <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> return a sequence <code class="docutils literal notranslate"><span class="pre">-1,</span> <span class="pre">23e4,</span> <span class="pre">&quot;5.6&quot;</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;.double() --&gt; -1e0, 23e4, 5.6e0
</code></pre></div>
</div>
<h4 id="ceiling-floor-and-abs">ceiling(), floor(), and abs()<a class="headerlink" href="#ceiling-floor-and-abs" title="Link to this heading">#</a></h4>
<p>Gets the ceiling, the floor or the absolute value for every numeric item in the
sequence. The semantics of the operations is the same as in SQL.</p>
<p>Let <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> return a sequence <code class="docutils literal notranslate"><span class="pre">-1.5,</span> <span class="pre">-1,</span> <span class="pre">1.3</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;.ceiling() --&gt; -1.0, -1, 2.0
&lt;path&gt;.floor() --&gt; -2.0, -1, 1.0
&lt;path&gt;.abs() --&gt; 1.5, 1, 1.3
</code></pre></div>
</div>
<h4 id="keyvalue">keyvalue()<a class="headerlink" href="#keyvalue" title="Link to this heading">#</a></h4>
<p>Returns a collection of JSON objects including one object per every member of
the original object for every JSON object in the sequence.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;.keyvalue()
</code></pre></div>
</div>
<p>The returned objects have three members:</p>
<ul class="simple">
<li><p>“name”, which is the original key,</p></li>
<li><p>“value”, which is the original bound value,</p></li>
<li><p>“id”, which is the unique number, specific to an input object.</p></li>
</ul>
<p>Let <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> be a sequence of three JSON objects:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>{&quot;customer&quot; : 100, &quot;region&quot; : &quot;AFRICA&quot;},
{&quot;region&quot; : &quot;ASIA&quot;},
{&quot;customer&quot; : 300, &quot;region&quot; : &quot;AFRICA&quot;, &quot;comment&quot; : null}
</code></pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;.keyvalue() --&gt; {&quot;name&quot; : &quot;customer&quot;, &quot;value&quot; : 100, &quot;id&quot; : 0},
                      {&quot;name&quot; : &quot;region&quot;, &quot;value&quot; : &quot;AFRICA&quot;, &quot;id&quot; : 0},
                      {&quot;name&quot; : &quot;region&quot;, &quot;value&quot; : &quot;ASIA&quot;, &quot;id&quot; : 1},
                      {&quot;name&quot; : &quot;customer&quot;, &quot;value&quot; : 300, &quot;id&quot; : 2},
                      {&quot;name&quot; : &quot;region&quot;, &quot;value&quot; : &quot;AFRICA&quot;, &quot;id&quot; : 2},
                      {&quot;name&quot; : &quot;comment&quot;, &quot;value&quot; : null, &quot;id&quot; : 2}
</code></pre></div>
</div>
<p>It is required that all items in the input sequence are JSON objects.</p>
<p>The order of the returned values follows the order of the original JSON
objects. However, within objects, the order of returned entries is arbitrary.</p>
<h4 id="type">type()<a class="headerlink" href="#type" title="Link to this heading">#</a></h4>
<p>Returns a textual value containing the type name for every item in the
sequence.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;.type()
</code></pre></div>
</div>
<p>This method does not perform array unwrapping in the lax mode.</p>
<p>The returned values are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;null&quot;</span></code> for JSON null,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;number&quot;</span></code> for a numeric item,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code> for a textual item,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;boolean&quot;</span></code> for a boolean item,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;date&quot;</span></code> for an item of type date,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;time</span> <span class="pre">without</span> <span class="pre">time</span> <span class="pre">zone&quot;</span></code> for an item of type time,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;time</span> <span class="pre">with</span> <span class="pre">time</span> <span class="pre">zone&quot;</span></code> for an item of type time with time zone,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;timestamp</span> <span class="pre">without</span> <span class="pre">time</span> <span class="pre">zone&quot;</span></code> for an item of type timestamp,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;timestamp</span> <span class="pre">with</span> <span class="pre">time</span> <span class="pre">zone&quot;</span></code> for an item of type timestamp with time zone,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;array&quot;</span></code> for JSON array,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;object&quot;</span></code> for JSON object,</p></li>
</ul>
<h4 id="size">size()<a class="headerlink" href="#size" title="Link to this heading">#</a></h4>
<p>Returns a numeric value containing the size for every JSON array in the
sequence.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;.size()
</code></pre></div>
</div>
<p>This method does not perform array unwrapping in the lax mode. Instead, all
non-array items are wrapped in singleton JSON arrays, so their size is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>It is required that all items in the input sequence are JSON arrays.</p>
<p>Let <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> return a sequence of three JSON arrays:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>[0, 1, 2], [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;], [null, null]
&lt;path&gt;.size() --&gt; 3, 4, 2
</code></pre></div>
</div>
<h3 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Link to this heading">#</a></h3>
<p>The SQL standard describes the <code class="docutils literal notranslate"><span class="pre">datetime()</span></code> JSON path item method and the
<code class="docutils literal notranslate"><span class="pre">like_regex()</span></code> JSON path predicate. Trino does not support them.</p>
<h3 id="json-path-modes"><span id="id3"></span>JSON path modes<a class="headerlink" href="#json-path-modes" title="Link to this heading">#</a></h3>
<p>The JSON path expression can be evaluated in two modes: strict and lax. In the
strict mode, it is required that the input JSON data strictly fits the schema
required by the path expression. In the lax mode, the input JSON data can
diverge from the expected schema.</p>
<p>The following table shows the differences between the two modes.</p>
<table class="docutils data align-default">
<colgroup>
<col style="width: 40.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Condition</p></th>
<th class="head"><p>strict mode</p></th>
<th class="head"><p>lax mode</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Performing an operation which requires a non-array on an array, e.g.:</p>
<p><code class="docutils literal notranslate"><span class="pre">$.key</span></code> requires a JSON object</p>
<p><code class="docutils literal notranslate"><span class="pre">$.floor()</span></code> requires a numeric value</p>
</td>
<td><p>ERROR</p></td>
<td><p>The array is automatically unnested, and the operation is performed on
each array element.</p></td>
</tr>
<tr class="row-odd"><td><p>Performing an operation which requires an array on a non-array, e.g.:</p>
<p><code class="docutils literal notranslate"><span class="pre">$[0]</span></code>, <code class="docutils literal notranslate"><span class="pre">$[*]</span></code>, <code class="docutils literal notranslate"><span class="pre">$.size()</span></code></p>
</td>
<td><p>ERROR</p></td>
<td><p>The non-array item is automatically wrapped in a singleton array, and
the operation is performed on the array.</p></td>
</tr>
<tr class="row-even"><td><p>A structural error: accessing a non-existent element of an array or a
non-existent member of a JSON object, e.g.:</p>
<p><code class="docutils literal notranslate"><span class="pre">$[-1]</span></code> (array index out of bounds)</p>
<p><code class="docutils literal notranslate"><span class="pre">$.key</span></code>, where the input JSON object does not have a member <code class="docutils literal notranslate"><span class="pre">key</span></code></p>
</td>
<td><p>ERROR</p></td>
<td><p>The error is suppressed, and the operation results in an empty sequence.</p></td>
</tr>
</tbody>
</table>
<h4 id="examples-of-the-lax-mode-behavior">Examples of the lax mode behavior<a class="headerlink" href="#examples-of-the-lax-mode-behavior" title="Link to this heading">#</a></h4>
<p>Let <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> return a sequence of three items, a JSON array, a JSON object,
and a scalar numeric value:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>[1, &quot;a&quot;, null], {&quot;key1&quot; : 1.0, &quot;key2&quot; : true}, -2e3
</code></pre></div>
</div>
<p>The following example shows the wildcard array accessor in the lax mode. The
JSON array returns all its elements, while the JSON object and the number are
wrapped in singleton arrays and then unnested, so effectively they appear
unchanged in the output sequence:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;[*] --&gt; 1, &quot;a&quot;, null, {&quot;key1&quot; : 1.0, &quot;key2&quot; : true}, -2e3
</code></pre></div>
</div>
<p>When calling the <code class="docutils literal notranslate"><span class="pre">size()</span></code> method, the JSON object and the number are also
wrapped in singleton arrays:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;.size() --&gt; 3, 1, 1
</code></pre></div>
</div>
<p>In some cases, the lax mode cannot prevent failure. In the following example,
even though the JSON array is unwrapped prior to calling the <code class="docutils literal notranslate"><span class="pre">floor()</span></code>
method, the item <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code> causes type mismatch.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&lt;path&gt;.floor() --&gt; ERROR
</code></pre></div>
</div>
<h2 id="json-exists"><span id="id4"></span>json_exists<a class="headerlink" href="#json-exists" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">json_exists</span></code> function determines whether a JSON value satisfies a JSON
path specification.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>JSON_EXISTS(
    json_input [ FORMAT JSON [ ENCODING { UTF8 | UTF16 | UTF32 } ] ],
    json_path
    [ PASSING json_argument [, ...] ]
    [ { TRUE | FALSE | UNKNOWN | ERROR } ON ERROR ]
    )
</code></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">json_path</span></code> is evaluated using the <code class="docutils literal notranslate"><span class="pre">json_input</span></code> as the context variable
(<code class="docutils literal notranslate"><span class="pre">$</span></code>), and the passed arguments as the named variables (<code class="docutils literal notranslate"><span class="pre">$variable_name</span></code>).
The returned value is <code class="docutils literal notranslate"><span class="pre">true</span></code> if the path returns a non-empty sequence, and
<code class="docutils literal notranslate"><span class="pre">false</span></code> if the path returns an empty sequence. If an error occurs, the
returned value depends on the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> clause. The default value returned
<code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> is <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>. The <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> clause is applied for the following
kinds of errors:</p>
<ul class="simple">
<li><p>Input conversion errors, such as malformed JSON</p></li>
<li><p>JSON path evaluation errors, e.g. division by zero</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">json_input</span></code> is a character string or a binary string. It should contain
a single JSON item. For a binary string, you can specify encoding.</p>
<p><code class="docutils literal notranslate"><span class="pre">json_path</span></code> is a string literal, containing the path mode specification, and
the path expression, following the syntax rules described in
<a class="reference internal" href="#json-path-syntax-and-semantics"><span class="std std-ref">JSON path syntax and semantics</span></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;strict ($.price + $.tax)?(@ &gt; 99.9)&#39;
&#39;lax $[0 to 1].floor()?(@ &gt; 10)&#39;
</code></pre></div>
</div>
<p>In the <code class="docutils literal notranslate"><span class="pre">PASSING</span></code> clause you can pass arbitrary expressions to be used by the
path expression.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>PASSING orders.totalprice AS O_PRICE,
        orders.tax % 10 AS O_TAX
</code></pre></div>
</div>
<p>The passed parameters can be referenced in the path expression by named
variables, prefixed with <code class="docutils literal notranslate"><span class="pre">$</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;lax $?(@.price &gt; $O_PRICE || @.tax &gt; $O_TAX)&#39;
</code></pre></div>
</div>
<p>Additionally to SQL values, you can pass JSON values, specifying the format and
optional encoding:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>PASSING orders.json_desc FORMAT JSON AS o_desc,
        orders.binary_record FORMAT JSON ENCODING UTF16 AS o_rec
</code></pre></div>
</div>
<p>Note that the JSON path language is case-sensitive, while the unquoted SQL
identifiers are upper-cased. Therefore, it is recommended to use quoted
identifiers in the <code class="docutils literal notranslate"><span class="pre">PASSING</span></code> clause:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;lax $.keyvalue()?(@.name == $KeyName).value&#39; PASSING nation.name AS KeyName --&gt; ERROR; no passed value found
&#39;lax $.keyvalue()?(@.name == $KeyName).value&#39; PASSING nation.name AS &quot;KeyName&quot; --&gt; correct
</code></pre></div>
</div>
<h3 id="examples">Examples<a class="headerlink" href="#examples" title="Link to this heading">#</a></h3>
<p>Let <code class="docutils literal notranslate"><span class="pre">customers</span></code> be a table containing two columns: <code class="docutils literal notranslate"><span class="pre">id:bigint</span></code>,
<code class="docutils literal notranslate"><span class="pre">description:varchar</span></code>.</p>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>‘{“comment” : “nice”, “children” : [10, 13, 16]}’</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>‘{“comment” : “problematic”, “children” : [8, 11]}’</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>‘{“comment” : “knows best”, “children” : [2]}’</p></td>
</tr>
</tbody>
</table>
<p>The following query checks which customers have children above the age of 10:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>SELECT
      id,
      json_exists(
                  description,
                  &#39;lax $.children[*]?(@ &gt; 10)&#39;
                 ) AS children_above_ten
FROM customers
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>children_above_ten</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>false</p></td>
</tr>
</tbody>
</table>
<p>In the following query, the path mode is strict. We check the third child for
each customer. This should cause a structural error for the customers who do
not have three or more children. This error is handled according to the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> clause.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>SELECT
      id,
      json_exists(
                  description,
                  &#39;strict $.children[2]?(@ &gt; 10)&#39;
                  UNKNOWN ON ERROR
                 ) AS child_3_above_ten
FROM customers
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>child_3_above_ten</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>NULL</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>NULL</p></td>
</tr>
</tbody>
</table>
<h2 id="json-query"><span id="id5"></span>json_query<a class="headerlink" href="#json-query" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">json_query</span></code> function extracts a JSON value from a JSON value.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>JSON_QUERY(
    json_input [ FORMAT JSON [ ENCODING { UTF8 | UTF16 | UTF32 } ] ],
    json_path
    [ PASSING json_argument [, ...] ]
    [ RETURNING type [ FORMAT JSON [ ENCODING { UTF8 | UTF16 | UTF32 } ] ] ]
    [ WITHOUT [ ARRAY ] WRAPPER |
      WITH [ { CONDITIONAL | UNCONDITIONAL } ] [ ARRAY ] WRAPPER ]
    [ { KEEP | OMIT } QUOTES [ ON SCALAR STRING ] ]
    [ { ERROR | NULL | EMPTY ARRAY | EMPTY OBJECT } ON EMPTY ]
    [ { ERROR | NULL | EMPTY ARRAY | EMPTY OBJECT } ON ERROR ]
    )
</code></pre></div>
</div>
<p>The constant string <code class="docutils literal notranslate"><span class="pre">json_path</span></code> is evaluated using the <code class="docutils literal notranslate"><span class="pre">json_input</span></code> as the
context variable (<code class="docutils literal notranslate"><span class="pre">$</span></code>), and the passed arguments as the named variables
(<code class="docutils literal notranslate"><span class="pre">$variable_name</span></code>).</p>
<p>The returned value is a JSON item returned by the path. By default, it is
represented as a character string (<code class="docutils literal notranslate"><span class="pre">varchar</span></code>). In the <code class="docutils literal notranslate"><span class="pre">RETURNING</span></code> clause,
you can specify other character string type or <code class="docutils literal notranslate"><span class="pre">varbinary</span></code>. With
<code class="docutils literal notranslate"><span class="pre">varbinary</span></code>, you can also specify the desired encoding.</p>
<p><code class="docutils literal notranslate"><span class="pre">json_input</span></code> is a character string or a binary string. It should contain
a single JSON item. For a binary string, you can specify encoding.</p>
<p><code class="docutils literal notranslate"><span class="pre">json_path</span></code> is a string literal, containing the path mode specification, and
the path expression, following the syntax rules described in
<a class="reference internal" href="#json-path-syntax-and-semantics"><span class="std std-ref">JSON path syntax and semantics</span></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;strict $.keyvalue()?(@.name == $cust_id)&#39;
&#39;lax $[5 to last]&#39;
</code></pre></div>
</div>
<p>In the <code class="docutils literal notranslate"><span class="pre">PASSING</span></code> clause you can pass arbitrary expressions to be used by the
path expression.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>PASSING orders.custkey AS CUST_ID
</code></pre></div>
</div>
<p>The passed parameters can be referenced in the path expression by named
variables, prefixed with <code class="docutils literal notranslate"><span class="pre">$</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;strict $.keyvalue()?(@.value == $CUST_ID)&#39;
</code></pre></div>
</div>
<p>Additionally to SQL values, you can pass JSON values, specifying the format and
optional encoding:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>PASSING orders.json_desc FORMAT JSON AS o_desc,
        orders.binary_record FORMAT JSON ENCODING UTF16 AS o_rec
</code></pre></div>
</div>
<p>Note that the JSON path language is case-sensitive, while the unquoted SQL
identifiers are upper-cased. Therefore, it is recommended to use quoted
identifiers in the <code class="docutils literal notranslate"><span class="pre">PASSING</span></code> clause:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;lax $.keyvalue()?(@.name == $KeyName).value&#39; PASSING nation.name AS KeyName --&gt; ERROR; no passed value found
&#39;lax $.keyvalue()?(@.name == $KeyName).value&#39; PASSING nation.name AS &quot;KeyName&quot; --&gt; correct
</code></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ARRAY</span> <span class="pre">WRAPPER</span></code> clause lets you modify the output by wrapping the results
in a JSON array. <code class="docutils literal notranslate"><span class="pre">WITHOUT</span> <span class="pre">ARRAY</span> <span class="pre">WRAPPER</span></code> is the default option. <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">CONDITIONAL</span> <span class="pre">ARRAY</span> <span class="pre">WRAPPER</span></code> wraps every result which is not a singleton JSON
array or JSON object. <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">UNCONDITIONAL</span> <span class="pre">ARRAY</span> <span class="pre">WRAPPER</span></code> wraps every result.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">QUOTES</span></code> clause lets you modify the result for a scalar string by
removing the double quotes being part of the JSON string representation.</p>
<h3 id="id6">Examples<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p>Let <code class="docutils literal notranslate"><span class="pre">customers</span></code> be a table containing two columns: <code class="docutils literal notranslate"><span class="pre">id:bigint</span></code>,
<code class="docutils literal notranslate"><span class="pre">description:varchar</span></code>.</p>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>‘{“comment” : “nice”, “children” : [10, 13, 16]}’</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>‘{“comment” : “problematic”, “children” : [8, 11]}’</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>‘{“comment” : “knows best”, “children” : [2]}’</p></td>
</tr>
</tbody>
</table>
<p>The following query gets the <code class="docutils literal notranslate"><span class="pre">children</span></code> array for each customer:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>SELECT
      id,
      json_query(
                 description,
                 &#39;lax $.children&#39;
                ) AS children
FROM customers
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>children</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>‘[10,13,16]’</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>‘[8,11]’</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>‘[2]’</p></td>
</tr>
</tbody>
</table>
<p>The following query gets the collection of children for each customer.
Note that the <code class="docutils literal notranslate"><span class="pre">json_query</span></code> function can only output a single JSON item. If
you don’t use array wrapper, you get an error for every customer with multiple
children. The error is handled according to the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> clause.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>SELECT
      id,
      json_query(
                 description,
                 &#39;lax $.children[*]&#39;
                 WITHOUT ARRAY WRAPPER
                 NULL ON ERROR
                ) AS children
FROM customers
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>children</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>NULL</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>NULL</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>‘2’</p></td>
</tr>
</tbody>
</table>
<p>The following query gets the last child for each customer, wrapped in a JSON
array:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>SELECT
      id,
      json_query(
                 description,
                 &#39;lax $.children[last]&#39;
                 WITH ARRAY WRAPPER
                ) AS last_child
FROM customers
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>last_child</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>‘[16]’</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>‘[11]’</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>‘[2]’</p></td>
</tr>
</tbody>
</table>
<p>The following query gets all children above the age of 12 for each customer,
wrapped in a JSON array. The second and the third customer don’t have children
of this age. Such case is handled according to the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">EMPTY</span></code> clause. The
default value returned <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">EMPTY</span></code> is <code class="docutils literal notranslate"><span class="pre">NULL</span></code>. In the following example,
<code class="docutils literal notranslate"><span class="pre">EMPTY</span> <span class="pre">ARRAY</span> <span class="pre">ON</span> <span class="pre">EMPTY</span></code> is specified.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>SELECT
      id,
      json_query(
                 description,
                 &#39;strict $.children[*]?(@ &gt; 12)&#39;
                 WITH ARRAY WRAPPER
                 EMPTY ARRAY ON EMPTY
                ) AS children
FROM customers
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>children</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>‘[13,16]’</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>‘[]’</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>‘[]’</p></td>
</tr>
</tbody>
</table>
<p>The following query shows the result of the <code class="docutils literal notranslate"><span class="pre">QUOTES</span></code> clause. Note that <code class="docutils literal notranslate"><span class="pre">KEEP</span> <span class="pre">QUOTES</span></code> is the default.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>SELECT
      id,
      json_query(description, &#39;strict $.comment&#39; KEEP QUOTES) AS quoted_comment,
      json_query(description, &#39;strict $.comment&#39; OMIT QUOTES) AS unquoted_comment
FROM customers
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>quoted_comment</p></th>
<th class="head"><p>unquoted_comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>‘“nice”’</p></td>
<td><p>‘nice’</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>‘“problematic”’</p></td>
<td><p>‘problematic’</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>‘“knows best”’</p></td>
<td><p>‘knows best’</p></td>
</tr>
</tbody>
</table>
<p>If an error occurs, the returned value depends on the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> clause. The
default value returned <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> is <code class="docutils literal notranslate"><span class="pre">NULL</span></code>. One example of error is
multiple items returned by the path. Other errors caught and handled according
to the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> clause are:</p>
<ul class="simple">
<li><p>Input conversion errors, such as malformed JSON</p></li>
<li><p>JSON path evaluation errors, e.g. division by zero</p></li>
<li><p>Output conversion errors</p></li>
</ul>
<h2 id="json-value"><span id="id7"></span>json_value<a class="headerlink" href="#json-value" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">json_value</span></code> function extracts a scalar SQL value from a JSON value.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>JSON_VALUE(
    json_input [ FORMAT JSON [ ENCODING { UTF8 | UTF16 | UTF32 } ] ],
    json_path
    [ PASSING json_argument [, ...] ]
    [ RETURNING type ]
    [ { ERROR | NULL | DEFAULT expression } ON EMPTY ]
    [ { ERROR | NULL | DEFAULT expression } ON ERROR ]
    )
</code></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">json_path</span></code> is evaluated using the <code class="docutils literal notranslate"><span class="pre">json_input</span></code> as the context variable
(<code class="docutils literal notranslate"><span class="pre">$</span></code>), and the passed arguments as the named variables (<code class="docutils literal notranslate"><span class="pre">$variable_name</span></code>).</p>
<p>The returned value is the SQL scalar returned by the path. By default, it is
converted to string (<code class="docutils literal notranslate"><span class="pre">varchar</span></code>). In the <code class="docutils literal notranslate"><span class="pre">RETURNING</span></code> clause, you can specify
other desired type: a character string type, numeric, boolean or datetime type.</p>
<p><code class="docutils literal notranslate"><span class="pre">json_input</span></code> is a character string or a binary string. It should contain
a single JSON item. For a binary string, you can specify encoding.</p>
<p><code class="docutils literal notranslate"><span class="pre">json_path</span></code> is a string literal, containing the path mode specification, and
the path expression, following the syntax rules described in
<a class="reference internal" href="#json-path-syntax-and-semantics"><span class="std std-ref">JSON path syntax and semantics</span></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;strict $.price + $tax&#39;
&#39;lax $[last].abs().floor()&#39;
</code></pre></div>
</div>
<p>In the <code class="docutils literal notranslate"><span class="pre">PASSING</span></code> clause you can pass arbitrary expressions to be used by the
path expression.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>PASSING orders.tax AS O_TAX
</code></pre></div>
</div>
<p>The passed parameters can be referenced in the path expression by named
variables, prefixed with <code class="docutils literal notranslate"><span class="pre">$</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;strict $[last].price + $O_TAX&#39;
</code></pre></div>
</div>
<p>Additionally to SQL values, you can pass JSON values, specifying the format and
optional encoding:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>PASSING orders.json_desc FORMAT JSON AS o_desc,
        orders.binary_record FORMAT JSON ENCODING UTF16 AS o_rec
</code></pre></div>
</div>
<p>Note that the JSON path language is case-sensitive, while the unquoted SQL
identifiers are upper-cased. Therefore, it is recommended to use quoted
identifiers in the <code class="docutils literal notranslate"><span class="pre">PASSING</span></code> clause:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;lax $.keyvalue()?(@.name == $KeyName).value&#39; PASSING nation.name AS KeyName --&gt; ERROR; no passed value found
&#39;lax $.keyvalue()?(@.name == $KeyName).value&#39; PASSING nation.name AS &quot;KeyName&quot; --&gt; correct
</code></pre></div>
</div>
<p>If the path returns an empty sequence, the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">EMPTY</span></code> clause is applied. The
default value returned <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">EMPTY</span></code> is <code class="docutils literal notranslate"><span class="pre">NULL</span></code>. You can also specify the
default value:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>DEFAULT -1 ON EMPTY
</code></pre></div>
</div>
<p>If an error occurs, the returned value depends on the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> clause. The
default value returned <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> is <code class="docutils literal notranslate"><span class="pre">NULL</span></code>. One example of error is
multiple items returned by the path. Other errors caught and handled according
to the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> clause are:</p>
<ul class="simple">
<li><p>Input conversion errors, such as malformed JSON</p></li>
<li><p>JSON path evaluation errors, e.g. division by zero</p></li>
<li><p>Returned scalar not convertible to the desired type</p></li>
</ul>
<h3 id="id8">Examples<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<p>Let <code class="docutils literal notranslate"><span class="pre">customers</span></code> be a table containing two columns: <code class="docutils literal notranslate"><span class="pre">id:bigint</span></code>,
<code class="docutils literal notranslate"><span class="pre">description:varchar</span></code>.</p>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>‘{“comment” : “nice”, “children” : [10, 13, 16]}’</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>‘{“comment” : “problematic”, “children” : [8, 11]}’</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>‘{“comment” : “knows best”, “children” : [2]}’</p></td>
</tr>
</tbody>
</table>
<p>The following query gets the <code class="docutils literal notranslate"><span class="pre">comment</span></code> for each customer as <code class="docutils literal notranslate"><span class="pre">char(12)</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>SELECT id, json_value(
                      description,
                      &#39;lax $.comment&#39;
                      RETURNING char(12)
                     ) AS comment
FROM customers
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>‘nice        ‘</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>‘problematic ‘</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>‘knows best  ‘</p></td>
</tr>
</tbody>
</table>
<p>The following query gets the first child’s age for each customer as
<code class="docutils literal notranslate"><span class="pre">tinyint</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>SELECT id, json_value(
                      description,
                      &#39;lax $.children[0]&#39;
                      RETURNING tinyint
                     ) AS child
FROM customers
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>child</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p>The following query gets the third child’s age for each customer. In the strict
mode, this should cause a structural error for the customers who do not have
the third child. This error is handled according to the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> clause.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>SELECT id, json_value(
                      description,
                      &#39;strict $.children[2]&#39;
                      DEFAULT &#39;err&#39; ON ERROR
                     ) AS child
FROM customers
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>child</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>‘16’</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>‘err’</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>‘err’</p></td>
</tr>
</tbody>
</table>
<p>After changing the mode to lax, the structural error is suppressed, and the
customers without a third child produce empty sequence. This case is handled
according to the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">EMPTY</span></code> clause.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>SELECT id, json_value(
                      description,
                      &#39;lax $.children[2]&#39;
                      DEFAULT &#39;missing&#39; ON EMPTY
                     ) AS child
FROM customers
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>child</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>101</p></td>
<td><p>‘16’</p></td>
</tr>
<tr class="row-odd"><td><p>102</p></td>
<td><p>‘missing’</p></td>
</tr>
<tr class="row-even"><td><p>103</p></td>
<td><p>‘missing’</p></td>
</tr>
</tbody>
</table>
<h2 id="json-table"><span id="id9"></span>json_table<a class="headerlink" href="#json-table" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">json_table</span></code> clause extracts a table from a JSON value. Use this clause to
transform JSON data into a relational format, making it easier to query and
analyze. Use <code class="docutils literal notranslate"><span class="pre">json_table</span></code> in the <code class="docutils literal notranslate"><span class="pre">FROM</span></code> clause of a
<a class="reference internal" href="../sql/select.html#select-json-table"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">SELECT</span></code></span></a> statement to create a table from JSON data.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>JSON_TABLE(
    json_input,
    json_path [ AS path_name ]
    [ PASSING value AS parameter_name [, ...] ]
    COLUMNS (
        column_definition [, ...] )
    [ PLAN ( json_table_specific_plan )
      | PLAN DEFAULT ( json_table_default_plan ) ]
    [ { ERROR | EMPTY } ON ERROR ]
)
</code></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">COLUMNS</span></code> clause supports the following <code class="docutils literal notranslate"><span class="pre">column_definition</span></code> arguments:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>column_name FOR ORDINALITY
| column_name type
    [ FORMAT JSON [ ENCODING { UTF8 | UTF16 | UTF32 } ] ]
    [ PATH json_path ]
    [ { WITHOUT | WITH { CONDITIONAL | UNCONDITIONAL } } [ ARRAY ] WRAPPER ]
    [ { KEEP | OMIT } QUOTES [ ON SCALAR STRING ] ]
    [ { ERROR | NULL | EMPTY { [ARRAY] | OBJECT } | DEFAULT expression } ON EMPTY ]
    [ { ERROR | NULL | DEFAULT expression } ON ERROR ]
| NESTED [ PATH ] json_path [ AS path_name ] COLUMNS ( column_definition [, ...] )
</code></pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">json_input</span></code> is a character string or a binary string. It must contain a single
JSON item.</p>
<p><code class="docutils literal notranslate"><span class="pre">json_path</span></code> is a string literal containing the path mode specification and the
path expression. It follows the syntax rules described in
<a class="reference internal" href="#json-path-syntax-and-semantics"><span class="std std-ref">JSON path syntax and semantics</span></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;strict ($.price + $.tax)?(@ &gt; 99.9)&#39;
&#39;lax $[0 to 1].floor()?(@ &gt; 10)&#39;
</code></pre></div>
</div>
<p>In the <code class="docutils literal notranslate"><span class="pre">PASSING</span></code> clause, pass values as named parameters that the <code class="docutils literal notranslate"><span class="pre">json_path</span></code>
expression can reference.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>PASSING orders.totalprice AS o_price,
        orders.tax % 10 AS o_tax
</code></pre></div>
</div>
<p>Use named parameters to reference the values in the path expression. Prefix
named parameters with <code class="docutils literal notranslate"><span class="pre">$</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;lax $?(@.price &gt; $o_price || @.tax &gt; $o_tax)&#39;
</code></pre></div>
</div>
<p>You can also pass JSON values in the <code class="docutils literal notranslate"><span class="pre">PASSING</span></code> clause. Use <code class="docutils literal notranslate"><span class="pre">FORMAT</span> <span class="pre">JSON</span></code> to
specify the format and <code class="docutils literal notranslate"><span class="pre">ENCODING</span></code> to specify the encoding:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>PASSING orders.json_desc FORMAT JSON AS o_desc,
        orders.binary_record FORMAT JSON ENCODING UTF16 AS o_rec
</code></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">json_path</span></code> value is case-sensitive. The SQL identifiers are uppercase. Use
quoted identifiers in the <code class="docutils literal notranslate"><span class="pre">PASSING</span></code> clause:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>&#39;lax $.keyvalue()?(@.name == $KeyName).value&#39; PASSING nation.name AS KeyName --&gt; ERROR; no passed value found
&#39;lax $.keyvalue()?(@.name == $KeyName).value&#39; PASSING nation.name AS &quot;KeyName&quot; --&gt; correct
</code></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">PLAN</span></code> clause specifies how to join columns from different paths. Use
<code class="docutils literal notranslate"><span class="pre">OUTER</span></code> or <code class="docutils literal notranslate"><span class="pre">INNER</span></code> to define how to join parent paths with their child paths.
Use <code class="docutils literal notranslate"><span class="pre">CROSS</span></code> or <code class="docutils literal notranslate"><span class="pre">UNION</span></code> to join siblings.</p>
<p><code class="docutils literal notranslate"><span class="pre">COLUMNS</span></code> defines the schema of your table. Each <code class="docutils literal notranslate"><span class="pre">column_definition</span></code> specifies
how to extract and format your <code class="docutils literal notranslate"><span class="pre">json_input</span></code> value into a relational column.</p>
<p><code class="docutils literal notranslate"><span class="pre">PLAN</span></code> is an optional clause to control how to process and join nested JSON
data.</p>
<p><code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">ERROR</span></code> specifies how to handle processing errors. <code class="docutils literal notranslate"><span class="pre">ERROR</span> <span class="pre">ON</span> <span class="pre">ERROR</span></code> throws an
error. <code class="docutils literal notranslate"><span class="pre">EMPTY</span> <span class="pre">ON</span> <span class="pre">ERROR</span></code> returns an empty result set.</p>
<p><code class="docutils literal notranslate"><span class="pre">column_name</span></code> specifies a column name.</p>
<p><code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">ORDINALITY</span></code> adds a row number column to the output table, starting at <code class="docutils literal notranslate"><span class="pre">1</span></code>.
Specify the column name in the column definition:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>row_num FOR ORDINALITY
</code></pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">NESTED</span> <span class="pre">PATH</span></code> extracts data from nested levels of a <code class="docutils literal notranslate"><span class="pre">json_input</span></code> value. Each
<code class="docutils literal notranslate"><span class="pre">NESTED</span> <span class="pre">PATH</span></code> clause can contain <code class="docutils literal notranslate"><span class="pre">column_definition</span></code> values.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">json_table</span></code> function returns a result set that you can use like any other
table in your queries. You can join the result set with other tables or
combine multiple arrays from your JSON data.</p>
<p>You can also process nested JSON objects without parsing the data multiple
times.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">json_table</span></code> as a lateral join to process JSON data from another table.</p>
<h3 id="id10">Examples<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<p>The following query uses <code class="docutils literal notranslate"><span class="pre">json_table</span></code> to extract values from a JSON array and
return them as rows in a table with three columns:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span>
<span class="w">      </span><span class="o">*</span>
<span class="k">FROM</span>
<span class="w">      </span><span class="n">json_table</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;[</span>
<span class="s1">                  {&quot;id&quot;:1,&quot;name&quot;:&quot;Africa&quot;,&quot;wikiDataId&quot;:&quot;Q15&quot;},</span>
<span class="s1">                  {&quot;id&quot;:2,&quot;name&quot;:&quot;Americas&quot;,&quot;wikiDataId&quot;:&quot;Q828&quot;},</span>
<span class="s1">                  {&quot;id&quot;:3,&quot;name&quot;:&quot;Asia&quot;,&quot;wikiDataId&quot;:&quot;Q48&quot;},</span>
<span class="s1">                  {&quot;id&quot;:4,&quot;name&quot;:&quot;Europe&quot;,&quot;wikiDataId&quot;:&quot;Q51&quot;}</span>
<span class="s1">                ]&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="s1">&#39;strict $&#39;</span><span class="w"> </span><span class="n">COLUMNS</span><span class="w"> </span><span class="p">(</span>
<span class="w">                  </span><span class="n">NESTED</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;strict $[*]&#39;</span><span class="w"> </span><span class="n">COLUMNS</span><span class="w"> </span><span class="p">(</span>
<span class="w">                    </span><span class="n">id</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;strict $.id&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;strict $.name&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="n">wiki_data_id</span><span class="w"> </span><span class="nb">varchar</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;strict $.&quot;wikiDataId&quot;&#39;</span>
<span class="w">                  </span><span class="p">)</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">              </span><span class="p">);</span>
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>id</p></th>
<th class="head"><p>child</p></th>
<th class="head"><p>wiki_data_id</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Africa</p></td>
<td><p>Q1</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Americas</p></td>
<td><p>Q828</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Asia</p></td>
<td><p>Q48</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Europe</p></td>
<td><p>Q51</p></td>
</tr>
</tbody>
</table>
<p>The following query uses <code class="docutils literal notranslate"><span class="pre">json_table</span></code> to extract values from an array of nested
JSON objects. It flattens the nested JSON data into a single table. The example
query processes an array of continent names, where each continent contains an
array of countries and their populations.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">NESTED</span> <span class="pre">PATH</span> <span class="pre">'lax</span> <span class="pre">$[*]'</span></code> clause iterates through the continent objects,
while the <code class="docutils literal notranslate"><span class="pre">NESTED</span> <span class="pre">PATH</span> <span class="pre">'lax</span> <span class="pre">$.countries[*]'</span></code> iterates through each country
within each continent. This creates a flat table structure with four rows
combining each continent with each of its countries. Continent values repeat for
each of their countries.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span>
<span class="w">      </span><span class="o">*</span>
<span class="k">FROM</span>
<span class="w">      </span><span class="n">json_table</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;[</span>
<span class="s1">                    {&quot;continent&quot;: &quot;Asia&quot;, &quot;countries&quot;: [</span>
<span class="s1">                        {&quot;name&quot;: &quot;Japan&quot;, &quot;population&quot;: 125.7},</span>
<span class="s1">                        {&quot;name&quot;: &quot;Thailand&quot;, &quot;population&quot;: 71.6}</span>
<span class="s1">                    ]},</span>
<span class="s1">                    {&quot;continent&quot;: &quot;Europe&quot;, &quot;countries&quot;: [</span>
<span class="s1">                        {&quot;name&quot;: &quot;France&quot;, &quot;population&quot;: 67.4},</span>
<span class="s1">                        {&quot;name&quot;: &quot;Germany&quot;, &quot;population&quot;: 83.2}</span>
<span class="s1">                    ]}</span>
<span class="s1">                ]&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="s1">&#39;lax $&#39;</span><span class="w"> </span><span class="n">COLUMNS</span><span class="w"> </span><span class="p">(</span>
<span class="w">                    </span><span class="n">NESTED</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;lax $[*]&#39;</span><span class="w"> </span><span class="n">COLUMNS</span><span class="w"> </span><span class="p">(</span>
<span class="w">                        </span><span class="n">continent</span><span class="w"> </span><span class="nb">varchar</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;lax $.continent&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="n">NESTED</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;lax $.countries[*]&#39;</span><span class="w"> </span><span class="n">COLUMNS</span><span class="w"> </span><span class="p">(</span>
<span class="w">                            </span><span class="n">country</span><span class="w"> </span><span class="nb">varchar</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;lax $.name&#39;</span><span class="p">,</span>
<span class="w">                            </span><span class="n">population</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;lax $.population&#39;</span>
<span class="w">                        </span><span class="p">)</span>
<span class="w">                    </span><span class="p">)</span>
<span class="w">                </span><span class="p">));</span>
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>continent</p></th>
<th class="head"><p>country</p></th>
<th class="head"><p>population</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Asia</p></td>
<td><p>Japan</p></td>
<td><p>125.7</p></td>
</tr>
<tr class="row-odd"><td><p>Asia</p></td>
<td><p>Thailand</p></td>
<td><p>71.6</p></td>
</tr>
<tr class="row-even"><td><p>Europe</p></td>
<td><p>France</p></td>
<td><p>67.4</p></td>
</tr>
<tr class="row-odd"><td><p>Europe</p></td>
<td><p>Germany</p></td>
<td><p>83.2</p></td>
</tr>
</tbody>
</table>
<p>The following query uses <code class="docutils literal notranslate"><span class="pre">PLAN</span></code> to specify an <code class="docutils literal notranslate"><span class="pre">OUTER</span></code> join between a parent path
and a child path:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span>
<span class="w">      </span><span class="o">*</span>
<span class="k">FROM</span>
<span class="w">      </span><span class="n">JSON_TABLE</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;[]&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="s1">&#39;lax $&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="ss">&quot;root_path&quot;</span>
<span class="w">                </span><span class="n">COLUMNS</span><span class="p">(</span>
<span class="w">                    </span><span class="n">a</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;lax &quot;A&quot;&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="n">NESTED</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;lax $[*]&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="ss">&quot;nested_path&quot;</span>
<span class="w">                            </span><span class="n">COLUMNS</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;lax &quot;B&quot;&#39;</span><span class="p">))</span>
<span class="w">                </span><span class="n">PLAN</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;root_path&quot;</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="ss">&quot;nested_path&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">);</span>
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>a</p></th>
<th class="head"><p>b</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>A</p></td>
<td><p>null</p></td>
</tr>
</tbody>
</table>
<p>The following query uses <code class="docutils literal notranslate"><span class="pre">PLAN</span></code> to specify an <code class="docutils literal notranslate"><span class="pre">INNER</span></code> join between a parent path
and a child path:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span>
<span class="w">      </span><span class="o">*</span>
<span class="k">FROM</span>
<span class="w">      </span><span class="n">JSON_TABLE</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;[]&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="s1">&#39;lax $&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="ss">&quot;root_path&quot;</span>
<span class="w">                </span><span class="n">COLUMNS</span><span class="p">(</span>
<span class="w">                    </span><span class="n">a</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;lax &quot;A&quot;&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="n">NESTED</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;lax $[*]&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="ss">&quot;nested_path&quot;</span>
<span class="w">                            </span><span class="n">COLUMNS</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="s1">&#39;lax &quot;B&quot;&#39;</span><span class="p">))</span>
<span class="w">                </span><span class="n">PLAN</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;root_path&quot;</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="ss">&quot;nested_path&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">);</span>
</code></pre></div>
</div>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>a</p></th>
<th class="head"><p>b</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>null</p></td>
<td><p>null</p></td>
</tr>
</tbody>
</table>
<h2 id="json-array"><span id="id11"></span>json_array<a class="headerlink" href="#json-array" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">json_array</span></code> function creates a JSON array containing given elements.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>JSON_ARRAY(
    [ array_element [, ...]
      [ { NULL ON NULL | ABSENT ON NULL } ] ],
    [ RETURNING type [ FORMAT JSON [ ENCODING { UTF8 | UTF16 | UTF32 } ] ] ]
    )
</code></pre></div>
</div>
<h3 id="argument-types">Argument types<a class="headerlink" href="#argument-types" title="Link to this heading">#</a></h3>
<p>The array elements can be arbitrary expressions. Each passed value is converted
into a JSON item according to its type, and optional <code class="docutils literal notranslate"><span class="pre">FORMAT</span></code> and
<code class="docutils literal notranslate"><span class="pre">ENCODING</span></code> specification.</p>
<p>You can pass SQL values of types boolean, numeric, and character string. They
are converted to corresponding JSON literals:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="n">e</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="c1">--&gt; &#39;[true,1.2,&quot;text&quot;]&#39;</span>
</code></pre></div>
</div>
<p>Additionally to SQL values, you can pass JSON values. They are character or
binary strings with a specified format and optional encoding:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span>
<span class="w">                  </span><span class="s1">&#39;[  &quot;text&quot;  ] &#39;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">JSON</span><span class="p">,</span>
<span class="w">                  </span><span class="n">X</span><span class="s1">&#39;5B0035005D00&#39;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="k">ENCODING</span><span class="w"> </span><span class="n">UTF16</span>
<span class="w">                 </span><span class="p">)</span>
<span class="c1">--&gt; &#39;[[&quot;text&quot;],[5]]&#39;</span>
</code></pre></div>
</div>
<p>You can also nest other JSON-returning functions. In that case, the <code class="docutils literal notranslate"><span class="pre">FORMAT</span></code>
option is implicit:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span>
<span class="w">                  </span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;key&quot; : [  &quot;value&quot;  ]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;lax $.key&#39;</span><span class="p">)</span>
<span class="w">                 </span><span class="p">)</span>
<span class="c1">--&gt; &#39;[[&quot;value&quot;]]&#39;</span>
</code></pre></div>
</div>
<p>Other passed values are cast to varchar, and they become JSON text literals:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span>
<span class="w">                  </span><span class="nb">DATE</span><span class="w"> </span><span class="s1">&#39;2001-01-31&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="n">UUID</span><span class="w"> </span><span class="s1">&#39;12151fd2-7586-11e9-8f9e-2a86e4085a59&#39;</span>
<span class="w">                 </span><span class="p">)</span>
<span class="c1">--&gt; &#39;[&quot;2001-01-31&quot;,&quot;12151fd2-7586-11e9-8f9e-2a86e4085a59&quot;]&#39;</span>
</code></pre></div>
</div>
<p>You can omit the arguments altogether to get an empty array:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">()</span><span class="w"> </span><span class="c1">--&gt; &#39;[]&#39;</span>
</code></pre></div>
</div>
<h3 id="null-handling">Null handling<a class="headerlink" href="#null-handling" title="Link to this heading">#</a></h3>
<p>If a value passed for an array element is <code class="docutils literal notranslate"><span class="pre">null</span></code>, it is treated according to
the specified null treatment option. If <code class="docutils literal notranslate"><span class="pre">ABSENT</span> <span class="pre">ON</span> <span class="pre">NULL</span></code> is specified, the
null element is omitted in the result. If <code class="docutils literal notranslate"><span class="pre">NULL</span> <span class="pre">ON</span> <span class="pre">NULL</span></code> is specified, JSON
<code class="docutils literal notranslate"><span class="pre">null</span></code> is added to the result. <code class="docutils literal notranslate"><span class="pre">ABSENT</span> <span class="pre">ON</span> <span class="pre">NULL</span></code> is the default
configuration:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="c1">--&gt; &#39;[true,1]&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">ABSENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="c1">--&gt; &#39;[true,1]&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="c1">--&gt; &#39;[true,null,1]&#39;</span>
</code></pre></div>
</div>
<h3 id="returned-type">Returned type<a class="headerlink" href="#returned-type" title="Link to this heading">#</a></h3>
<p>The SQL standard imposes that there is no dedicated data type to represent JSON
data in SQL. Instead, JSON data is represented as character or binary strings.
By default, the <code class="docutils literal notranslate"><span class="pre">json_array</span></code> function returns varchar containing the textual
representation of the JSON array. With the <code class="docutils literal notranslate"><span class="pre">RETURNING</span></code> clause, you can
specify other character string type:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">RETURNING</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="c1">--&gt; &#39;[true,1]&#39;</span>
</code></pre></div>
</div>
<p>You can also specify to use varbinary and the required encoding as return type.
The default encoding is UTF8:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">RETURNING</span><span class="w"> </span><span class="n">VARBINARY</span><span class="p">)</span>
<span class="c1">--&gt; X&#39;5b 74 72 75 65 2c 31 5d&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">RETURNING</span><span class="w"> </span><span class="n">VARBINARY</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="k">ENCODING</span><span class="w"> </span><span class="n">UTF8</span><span class="p">)</span>
<span class="c1">--&gt; X&#39;5b 74 72 75 65 2c 31 5d&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">RETURNING</span><span class="w"> </span><span class="n">VARBINARY</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="k">ENCODING</span><span class="w"> </span><span class="n">UTF16</span><span class="p">)</span>
<span class="c1">--&gt; X&#39;5b 00 74 00 72 00 75 00 65 00 2c 00 31 00 5d 00&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">json_array</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">RETURNING</span><span class="w"> </span><span class="n">VARBINARY</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="k">ENCODING</span><span class="w"> </span><span class="n">UTF32</span><span class="p">)</span>
<span class="c1">--&gt; X&#39;5b 00 00 00 74 00 00 00 72 00 00 00 75 00 00 00 65 00 00 00 2c 00 00 00 31 00 00 00 5d 00 00 00&#39;</span>
</code></pre></div>
</div>
<h2 id="json-object"><span id="id12"></span>json_object<a class="headerlink" href="#json-object" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">json_object</span></code> function creates a JSON object containing given key-value pairs.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code>JSON_OBJECT(
    [ key_value [, ...]
      [ { NULL ON NULL | ABSENT ON NULL } ] ],
      [ { WITH UNIQUE [ KEYS ] | WITHOUT UNIQUE [ KEYS ] } ]
    [ RETURNING type [ FORMAT JSON [ ENCODING { UTF8 | UTF16 | UTF32 } ] ] ]
    )
</code></pre></div>
</div>
<h3 id="argument-passing-conventions">Argument passing conventions<a class="headerlink" href="#argument-passing-conventions" title="Link to this heading">#</a></h3>
<p>There are two conventions for passing keys and values:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;key1&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;key2&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">)</span>
<span class="c1">--&gt; &#39;{&quot;key1&quot;:1,&quot;key2&quot;:true}&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="k">KEY</span><span class="w"> </span><span class="s1">&#39;key1&#39;</span><span class="w"> </span><span class="n">VALUE</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="s1">&#39;key2&#39;</span><span class="w"> </span><span class="n">VALUE</span><span class="w"> </span><span class="k">true</span><span class="p">)</span>
<span class="c1">--&gt; &#39;{&quot;key1&quot;:1,&quot;key2&quot;:true}&#39;</span>
</code></pre></div>
</div>
<p>In the second convention, you can omit the <code class="docutils literal notranslate"><span class="pre">KEY</span></code> keyword:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;key1&#39;</span><span class="w"> </span><span class="n">VALUE</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;key2&#39;</span><span class="w"> </span><span class="n">VALUE</span><span class="w"> </span><span class="k">true</span><span class="p">)</span>
<span class="c1">--&gt; &#39;{&quot;key1&quot;:1,&quot;key2&quot;:true}&#39;</span>
</code></pre></div>
</div>
<h3 id="id13">Argument types<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<p>The keys can be arbitrary expressions. They must be of character string type.
Each key is converted into a JSON text item, and it becomes a key in the
created JSON object. Keys must not be null.</p>
<p>The values can be arbitrary expressions. Each passed value is converted
into a JSON item according to its type, and optional <code class="docutils literal notranslate"><span class="pre">FORMAT</span></code> and
<code class="docutils literal notranslate"><span class="pre">ENCODING</span></code> specification.</p>
<p>You can pass SQL values of types boolean, numeric, and character string. They
are converted to corresponding JSON literals:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;y&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="n">e</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;z&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="c1">--&gt; &#39;{&quot;x&quot;:true,&quot;y&quot;:1.2,&quot;z&quot;:&quot;text&quot;}&#39;</span>
</code></pre></div>
</div>
<p>Additionally to SQL values, you can pass JSON values. They are character or
binary strings with a specified format and optional encoding:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span>
<span class="w">                   </span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;[  &quot;text&quot;  ] &#39;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">JSON</span><span class="p">,</span>
<span class="w">                   </span><span class="s1">&#39;y&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">X</span><span class="s1">&#39;5B0035005D00&#39;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="k">ENCODING</span><span class="w"> </span><span class="n">UTF16</span>
<span class="w">                  </span><span class="p">)</span>
<span class="c1">--&gt; &#39;{&quot;x&quot;:[&quot;text&quot;],&quot;y&quot;:[5]}&#39;</span>
</code></pre></div>
</div>
<p>You can also nest other JSON-returning functions. In that case, the <code class="docutils literal notranslate"><span class="pre">FORMAT</span></code>
option is implicit:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span>
<span class="w">                   </span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;key&quot; : [  &quot;value&quot;  ]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;lax $.key&#39;</span><span class="p">)</span>
<span class="w">                  </span><span class="p">)</span>
<span class="c1">--&gt; &#39;{&quot;x&quot;:[&quot;value&quot;]}&#39;</span>
</code></pre></div>
</div>
<p>Other passed values are cast to varchar, and they become JSON text literals:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span>
<span class="w">                   </span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="s1">&#39;2001-01-31&#39;</span><span class="p">,</span>
<span class="w">                   </span><span class="s1">&#39;y&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="s1">&#39;12151fd2-7586-11e9-8f9e-2a86e4085a59&#39;</span>
<span class="w">                  </span><span class="p">)</span>
<span class="c1">--&gt; &#39;{&quot;x&quot;:&quot;2001-01-31&quot;,&quot;y&quot;:&quot;12151fd2-7586-11e9-8f9e-2a86e4085a59&quot;}&#39;</span>
</code></pre></div>
</div>
<p>You can omit the arguments altogether to get an empty object:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">()</span><span class="w"> </span><span class="c1">--&gt; &#39;{}&#39;</span>
</code></pre></div>
</div>
<h3 id="id14">Null handling<a class="headerlink" href="#id14" title="Link to this heading">#</a></h3>
<p>The values passed for JSON object keys must not be null. It is allowed to pass
<code class="docutils literal notranslate"><span class="pre">null</span></code> for JSON object values. A null value is treated according to the
specified null treatment option. If <code class="docutils literal notranslate"><span class="pre">NULL</span> <span class="pre">ON</span> <span class="pre">NULL</span></code> is specified, a JSON
object entry with <code class="docutils literal notranslate"><span class="pre">null</span></code> value is added to the result. If <code class="docutils literal notranslate"><span class="pre">ABSENT</span> <span class="pre">ON</span> <span class="pre">NULL</span></code>
is specified, the entry is omitted in the result. <code class="docutils literal notranslate"><span class="pre">NULL</span> <span class="pre">ON</span> <span class="pre">NULL</span></code> is the
default configuration.:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;y&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="c1">--&gt; &#39;{&quot;x&quot;:null,&quot;y&quot;:1}&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;y&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="c1">--&gt; &#39;{&quot;x&quot;:null,&quot;y&quot;:1}&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;y&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">ABSENT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="c1">--&gt; &#39;{&quot;y&quot;:1}&#39;</span>
</code></pre></div>
</div>
<h3 id="key-uniqueness">Key uniqueness<a class="headerlink" href="#key-uniqueness" title="Link to this heading">#</a></h3>
<p>If a duplicate key is encountered, it is handled according to the specified key
uniqueness constraint.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">UNIQUE</span> <span class="pre">KEYS</span></code> is specified, a duplicate key results in a query
failure:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="n">KEYS</span><span class="p">)</span>
<span class="c1">--&gt; failure: &quot;duplicate key passed to JSON_OBJECT function&quot;</span>
</code></pre></div>
</div>
<p>Note that this option is not supported if any of the arguments has a
<code class="docutils literal notranslate"><span class="pre">FORMAT</span></code> specification.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">WITHOUT</span> <span class="pre">UNIQUE</span> <span class="pre">KEYS</span></code> is specified, duplicate keys are not supported due
to implementation limitation. <code class="docutils literal notranslate"><span class="pre">WITHOUT</span> <span class="pre">UNIQUE</span> <span class="pre">KEYS</span></code> is the default
configuration.</p>
<h3 id="id15">Returned type<a class="headerlink" href="#id15" title="Link to this heading">#</a></h3>
<p>The SQL standard imposes that there is no dedicated data type to represent JSON
data in SQL. Instead, JSON data is represented as character or binary strings.
By default, the <code class="docutils literal notranslate"><span class="pre">json_object</span></code> function returns varchar containing the textual
representation of the JSON object. With the <code class="docutils literal notranslate"><span class="pre">RETURNING</span></code> clause, you can
specify other character string type:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">RETURNING</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="c1">--&gt; &#39;{&quot;x&quot;:1}&#39;</span>
</code></pre></div>
</div>
<p>You can also specify to use varbinary and the required encoding as return type.
The default encoding is UTF8:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">RETURNING</span><span class="w"> </span><span class="n">VARBINARY</span><span class="p">)</span>
<span class="c1">--&gt; X&#39;7b 22 78 22 3a 31 7d&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">RETURNING</span><span class="w"> </span><span class="n">VARBINARY</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="k">ENCODING</span><span class="w"> </span><span class="n">UTF8</span><span class="p">)</span>
<span class="c1">--&gt; X&#39;7b 22 78 22 3a 31 7d&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">RETURNING</span><span class="w"> </span><span class="n">VARBINARY</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="k">ENCODING</span><span class="w"> </span><span class="n">UTF16</span><span class="p">)</span>
<span class="c1">--&gt; X&#39;7b 00 22 00 78 00 22 00 3a 00 31 00 7d 00&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">json_object</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">RETURNING</span><span class="w"> </span><span class="n">VARBINARY</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="k">ENCODING</span><span class="w"> </span><span class="n">UTF32</span><span class="p">)</span>
<span class="c1">--&gt; X&#39;7b 00 00 00 22 00 00 00 78 00 00 00 22 00 00 00 3a 00 00 00 31 00 00 00 7d 00 00 00&#39;</span>
</code></pre></div>
</div>
<div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>The following functions and operators are not compliant with the SQL
standard, and should be considered deprecated. According to the SQL
standard, there shall be no <code class="docutils literal notranslate"><span class="pre">JSON</span></code> data type. Instead, JSON values
should be represented as string values. The remaining functionality of the
following functions is covered by the functions described previously.</p>
</div>
<h2 id="cast-to-json">Cast to JSON<a class="headerlink" href="#cast-to-json" title="Link to this heading">#</a></h2>
<p>The following types can be cast to JSON:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TINYINT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INTEGER</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">REAL</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></li>
</ul>
<p>Additionally, <code class="docutils literal notranslate"><span class="pre">ARRAY</span></code>, <code class="docutils literal notranslate"><span class="pre">MAP</span></code>, and <code class="docutils literal notranslate"><span class="pre">ROW</span></code> types can be cast to JSON when
the following requirements are met:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ARRAY</span></code> types can be cast when the element type of the array is one
of the supported types.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MAP</span></code> types can be cast when the key type of the map is <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code> and
the value type of the map is a supported type,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ROW</span></code> types can be cast when every field type of the row is a supported
type.</p></li>
</ul>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>Cast operations with supported <a class="reference internal" href="../language/types.html#string-data-types"><span class="std std-ref">character string types</span></a> treat the input as a string, not validated as JSON.
This means that a cast operation with a string-type input of invalid JSON
results in a successful cast to invalid JSON.</p>
<p>Instead, consider using the <a class="reference internal" href="#json_parse" title="json_parse (Python function) — Returns the JSON value deserialized from the input JSON text. This is inverse function to json_format():"><code class="xref py py-func docutils literal notranslate"><span class="pre">json_parse()</span></code></a> function to
create validated JSON from a string.</p>
</div>
<p>The following examples show the behavior of casting to JSON with these types:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span>
<span class="c1">-- NULL</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span>
<span class="c1">-- JSON &#39;1&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="mi">9223372036854775807</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span>
<span class="c1">-- JSON &#39;9223372036854775807&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span>
<span class="c1">-- JSON &#39;&quot;abc&quot;&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="k">true</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span>
<span class="c1">-- JSON &#39;true&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">234</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span>
<span class="c1">-- JSON &#39;1.234&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">456</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span>
<span class="c1">-- JSON &#39;[1,23,456]&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">456</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span>
<span class="c1">-- JSON &#39;[1,null,456]&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="nb">ARRAY</span><span class="p">[</span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">],</span><span class="w"> </span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">456</span><span class="p">]]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span>
<span class="c1">-- JSON &#39;[[1,23],[456]]&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="k">MAP</span><span class="p">(</span><span class="nb">ARRAY</span><span class="p">[</span><span class="s1">&#39;k1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;k2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;k3&#39;</span><span class="p">],</span><span class="w"> </span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">456</span><span class="p">])</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span>
<span class="c1">-- JSON &#39;{&quot;k1&quot;:1,&quot;k2&quot;:23,&quot;k3&quot;:456}&#39;</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="k">ROW</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;abc&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span>
<span class="w">            </span><span class="k">ROW</span><span class="p">(</span><span class="n">v1</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">,</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span>
<span class="c1">-- JSON &#39;{&quot;v1&quot;:123,&quot;v2&quot;:&quot;abc&quot;,&quot;v3&quot;:true}&#39;</span>
</code></pre></div>
</div>
<p>Casting from NULL to <code class="docutils literal notranslate"><span class="pre">JSON</span></code> is not straightforward. Casting
from a standalone <code class="docutils literal notranslate"><span class="pre">NULL</span></code> will produce SQL <code class="docutils literal notranslate"><span class="pre">NULL</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">JSON</span> <span class="pre">'null'</span></code>. However, when casting from arrays or map containing
<code class="docutils literal notranslate"><span class="pre">NULL</span></code>s, the produced <code class="docutils literal notranslate"><span class="pre">JSON</span></code> will have <code class="docutils literal notranslate"><span class="pre">null</span></code>s in it.</p>
<h2 id="cast-from-json">Cast from JSON<a class="headerlink" href="#cast-from-json" title="Link to this heading">#</a></h2>
<p>Casting to <code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code>, <code class="docutils literal notranslate"><span class="pre">TINYINT</span></code>, <code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code>, <code class="docutils literal notranslate"><span class="pre">INTEGER</span></code>,
<code class="docutils literal notranslate"><span class="pre">BIGINT</span></code>, <code class="docutils literal notranslate"><span class="pre">REAL</span></code>, <code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code> or <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code> is supported.
Casting to <code class="docutils literal notranslate"><span class="pre">ARRAY</span></code> and <code class="docutils literal notranslate"><span class="pre">MAP</span></code> is supported when the element type of
the array is one of the supported types, or when the key type of the map
is <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code> and value type of the map is one of the supported types.
Behaviors of the casts are shown with the examples below:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;null&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">);</span>
<span class="c1">-- NULL</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">);</span>
<span class="c1">-- 1</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;9223372036854775807&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">);</span>
<span class="c1">-- 9223372036854775807</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;&quot;abc&quot;&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">);</span>
<span class="c1">-- abc</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;true&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="p">);</span>
<span class="c1">-- true</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;1.234&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DOUBLE</span><span class="p">);</span>
<span class="c1">-- 1.234</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;[1,23,456]&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">ARRAY</span><span class="p">(</span><span class="nb">INTEGER</span><span class="p">));</span>
<span class="c1">-- [1, 23, 456]</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;[1,null,456]&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">ARRAY</span><span class="p">(</span><span class="nb">INTEGER</span><span class="p">));</span>
<span class="c1">-- [1, NULL, 456]</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;[[1,23],[456]]&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">ARRAY</span><span class="p">(</span><span class="nb">ARRAY</span><span class="p">(</span><span class="nb">INTEGER</span><span class="p">)));</span>
<span class="c1">-- [[1, 23], [456]]</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;{&quot;k1&quot;:1,&quot;k2&quot;:23,&quot;k3&quot;:456}&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">MAP</span><span class="p">(</span><span class="nb">VARCHAR</span><span class="p">,</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">));</span>
<span class="c1">-- {k1=1, k2=23, k3=456}</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;{&quot;v1&quot;:123,&quot;v2&quot;:&quot;abc&quot;,&quot;v3&quot;:true}&#39;</span><span class="w"> </span><span class="k">AS</span>
<span class="w">            </span><span class="k">ROW</span><span class="p">(</span><span class="n">v1</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">,</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="p">));</span>
<span class="c1">-- {v1=123, v2=abc, v3=true}</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;[123,&quot;abc&quot;,true]&#39;</span><span class="w"> </span><span class="k">AS</span>
<span class="w">            </span><span class="k">ROW</span><span class="p">(</span><span class="n">v1</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">,</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="p">));</span>
<span class="c1">-- {v1=123, v2=abc, v3=true}</span>
</code></pre></div>
</div>
<p>JSON arrays can have mixed element types and JSON maps can have mixed
value types. This makes it impossible to cast them to SQL arrays and maps in
some cases. To address this, Trino supports partial casting of arrays and maps:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;[[1, 23], 456]&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">ARRAY</span><span class="p">(</span><span class="n">JSON</span><span class="p">));</span>
<span class="c1">-- [JSON &#39;[1,23]&#39;, JSON &#39;456&#39;]</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;{&quot;k1&quot;: [1, 23], &quot;k2&quot;: 456}&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">MAP</span><span class="p">(</span><span class="nb">VARCHAR</span><span class="p">,</span><span class="w"> </span><span class="n">JSON</span><span class="p">));</span>
<span class="c1">-- {k1 = JSON &#39;[1,23]&#39;, k2 = JSON &#39;456&#39;}</span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;[null]&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">ARRAY</span><span class="p">(</span><span class="n">JSON</span><span class="p">));</span>
<span class="c1">-- [JSON &#39;null&#39;]</span>
</code></pre></div>
</div>
<p>When casting from <code class="docutils literal notranslate"><span class="pre">JSON</span></code> to <code class="docutils literal notranslate"><span class="pre">ROW</span></code>, both JSON array and JSON object are supported.</p>
<h2 id="other-json-functions">Other JSON functions<a class="headerlink" href="#other-json-functions" title="Link to this heading">#</a></h2>
<p>In addition to the functions explained in more details in the preceding
sections, the following functions are available:</p>
<dl class="py function objdesc">
<dt class="sig sig-object highlight py" id="is_json_scalar">
<span class="sig-name descname"><span class="pre">is_json_scalar</span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#is_json_scalar" title="is_json_scalar.json (Python parameter)"><span class="n"><span class="pre">json</span></span></a></em></span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="desctype"><span class="pre">boolean</span></span></span></span><a class="headerlink" href="#is_json_scalar" title="Link to this definition">#</a></dt>
<dd><p>Determine if <code class="docutils literal notranslate"><span class="pre">json</span></code> is a scalar (i.e. a JSON number, a JSON string, <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code> or <code class="docutils literal notranslate"><span class="pre">null</span></code>):</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">is_json_scalar</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">);</span><span class="w">         </span><span class="c1">-- true</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">is_json_scalar</span><span class="p">(</span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">-- false</span>
</code></pre></div>
</div>
</dd></dl>

<dl class="py function objdesc">
<dt class="sig sig-object highlight py" id="json_array_contains">
<span class="sig-name descname"><span class="pre">json_array_contains</span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_array_contains" title="json_array_contains.json (Python parameter)"><span class="n"><span class="pre">json</span></span></a></em>, </span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_array_contains" title="json_array_contains.value (Python parameter)"><span class="n"><span class="pre">value</span></span></a></em></span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="desctype"><span class="pre">boolean</span></span></span></span><a class="headerlink" href="#json_array_contains" title="Link to this definition">#</a></dt>
<dd><p>Determine if <code class="docutils literal notranslate"><span class="pre">value</span></code> exists in <code class="docutils literal notranslate"><span class="pre">json</span></code> (a string containing a JSON array):</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array_contains</span><span class="p">(</span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">-- true</span>
</code></pre></div>
</div>
</dd></dl>

<dl class="py function objdesc">
<dt class="sig sig-object highlight py" id="json_array_get">
<span class="sig-name descname"><span class="pre">json_array_get</span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_array_get" title="json_array_get.json_array (Python parameter)"><span class="n"><span class="pre">json_array</span></span></a></em>, </span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_array_get" title="json_array_get.index (Python parameter)"><span class="n"><span class="pre">index</span></span></a></em></span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="desctype"><span class="pre">json</span></span></span></span><a class="headerlink" href="#json_array_get" title="Link to this definition">#</a></dt>
<dd><div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>The semantics of this function are broken. If the extracted element
is a string, it will be converted into an invalid <code class="docutils literal notranslate"><span class="pre">JSON</span></code> value that
is not properly quoted (the value will not be surrounded by quotes
and any interior quotes will not be escaped).</p>
<p>We recommend against using this function. It cannot be fixed without
impacting existing usages and may be removed in a future release.</p>
</div>
<p>Returns the element at the specified index into the <code class="docutils literal notranslate"><span class="pre">json_array</span></code>.
The index is zero-based:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array_get</span><span class="p">(</span><span class="s1">&#39;[&quot;a&quot;, [3, 9], &quot;c&quot;]&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">-- JSON &#39;a&#39; (invalid JSON)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_array_get</span><span class="p">(</span><span class="s1">&#39;[&quot;a&quot;, [3, 9], &quot;c&quot;]&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">-- JSON &#39;[3,9]&#39;</span>
</code></pre></div>
</div>
<p>This function also supports negative indexes for fetching element indexed
from the end of an array:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array_get</span><span class="p">(</span><span class="s1">&#39;[&quot;c&quot;, [3, 9], &quot;a&quot;]&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">-- JSON &#39;a&#39; (invalid JSON)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_array_get</span><span class="p">(</span><span class="s1">&#39;[&quot;c&quot;, [3, 9], &quot;a&quot;]&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">-- JSON &#39;[3,9]&#39;</span>
</code></pre></div>
</div>
<p>If the element at the specified index doesn’t exist, the function returns null:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array_get</span><span class="p">(</span><span class="s1">&#39;[]&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">                </span><span class="c1">-- NULL</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_array_get</span><span class="p">(</span><span class="s1">&#39;[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w">  </span><span class="c1">-- NULL</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_array_get</span><span class="p">(</span><span class="s1">&#39;[&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p">);</span><span class="w"> </span><span class="c1">-- NULL</span>
</code></pre></div>
</div>
</dd></dl>

<dl class="py function objdesc">
<dt class="sig sig-object highlight py" id="json_array_length">
<span class="sig-name descname"><span class="pre">json_array_length</span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_array_length" title="json_array_length.json (Python parameter)"><span class="n"><span class="pre">json</span></span></a></em></span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="desctype"><span class="pre">bigint</span></span></span></span><a class="headerlink" href="#json_array_length" title="Link to this definition">#</a></dt>
<dd><p>Returns the array length of <code class="docutils literal notranslate"><span class="pre">json</span></code> (a string containing a JSON array):</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_array_length</span><span class="p">(</span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">-- 3</span>
</code></pre></div>
</div>
</dd></dl>

<dl class="py function objdesc">
<dt class="sig sig-object highlight py" id="json_extract">
<span class="sig-name descname"><span class="pre">json_extract</span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_extract" title="json_extract.json (Python parameter)"><span class="n"><span class="pre">json</span></span></a></em>, </span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_extract" title="json_extract.json_path (Python parameter)"><span class="n"><span class="pre">json_path</span></span></a></em></span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="desctype"><span class="pre">json</span></span></span></span><a class="headerlink" href="#json_extract" title="Link to this definition">#</a></dt>
<dd><p>Evaluates the <a class="reference external" href="http://goessner.net/articles/JsonPath/">JSONPath</a>-like expression <code class="docutils literal notranslate"><span class="pre">json_path</span></code> on <code class="docutils literal notranslate"><span class="pre">json</span></code>
(a string containing JSON) and returns the result as a JSON string:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_extract</span><span class="p">(</span><span class="n">json</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$.store.book&#39;</span><span class="p">);</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_extract</span><span class="p">(</span><span class="n">json</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$.store[book]&#39;</span><span class="p">);</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_extract</span><span class="p">(</span><span class="n">json</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$.store[&quot;book name&quot;]&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<p>The <a class="reference internal" href="#json-query"><span class="std std-ref">json_query function</span></a> provides a more powerful and
feature-rich alternative to parse and extract JSON data.</p>
</dd></dl>

<dl class="py function objdesc">
<dt class="sig sig-object highlight py" id="json_extract_scalar">
<span class="sig-name descname"><span class="pre">json_extract_scalar</span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_extract_scalar" title="json_extract_scalar.json (Python parameter)"><span class="n"><span class="pre">json</span></span></a></em>, </span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_extract_scalar" title="json_extract_scalar.json_path (Python parameter)"><span class="n"><span class="pre">json_path</span></span></a></em></span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="desctype"><span class="pre">varchar</span></span></span></span><a class="headerlink" href="#json_extract_scalar" title="Link to this definition">#</a></dt>
<dd><p>Like <a class="reference internal" href="#json_extract" title="json_extract (Python function) — Evaluates the JSONPath-like expression json_path on json (a string containing JSON) and returns the result as a JSON string:"><code class="xref py py-func docutils literal notranslate"><span class="pre">json_extract()</span></code></a>, but returns the result value as a string (as opposed
to being encoded as JSON). The value referenced by <code class="docutils literal notranslate"><span class="pre">json_path</span></code> must be a
scalar (boolean, number or string).</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_extract_scalar</span><span class="p">(</span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$[2]&#39;</span><span class="p">);</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_extract_scalar</span><span class="p">(</span><span class="n">json</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$.store.book[0].author&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</dd></dl>

<dl class="py function objdesc">
<dt class="sig sig-object highlight py" id="json_format">
<span class="sig-name descname"><span class="pre">json_format</span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_format" title="json_format.json (Python parameter)"><span class="n"><span class="pre">json</span></span></a></em></span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="desctype"><span class="pre">varchar</span></span></span></span><a class="headerlink" href="#json_format" title="Link to this definition">#</a></dt>
<dd><p>Returns the JSON text serialized from the input JSON value.
This is inverse function to <a class="reference internal" href="#json_parse" title="json_parse (Python function) — Returns the JSON value deserialized from the input JSON text. This is inverse function to json_format():"><code class="xref py py-func docutils literal notranslate"><span class="pre">json_parse()</span></code></a>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_format</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">-- &#39;[1,2,3]&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_format</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;&quot;a&quot;&#39;</span><span class="p">);</span><span class="w">       </span><span class="c1">-- &#39;&quot;a&quot;&#39;</span>
</code></pre></div>
</div>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#json_format" title="json_format (Python function) — Returns the JSON text serialized from the input JSON value. This is inverse function to json_parse()."><code class="xref py py-func docutils literal notranslate"><span class="pre">json_format()</span></code></a> and <code class="docutils literal notranslate"><span class="pre">CAST(json</span> <span class="pre">AS</span> <span class="pre">VARCHAR)</span></code> have completely
different semantics.</p>
<p><a class="reference internal" href="#json_format" title="json_format (Python function) — Returns the JSON text serialized from the input JSON value. This is inverse function to json_parse()."><code class="xref py py-func docutils literal notranslate"><span class="pre">json_format()</span></code></a> serializes the input JSON value to JSON text conforming to
<span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7159.html"><strong>RFC 7159</strong></a>. The JSON value can be a JSON object, a JSON array, a JSON string,
a JSON number, <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code> or <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_format</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;{&quot;a&quot;: 1, &quot;b&quot;: 2}&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">-- &#39;{&quot;a&quot;:1,&quot;b&quot;:2}&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_format</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">);</span><span class="w">        </span><span class="c1">-- &#39;[1,2,3]&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_format</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;&quot;abc&quot;&#39;</span><span class="p">);</span><span class="w">            </span><span class="c1">-- &#39;&quot;abc&quot;&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_format</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;42&#39;</span><span class="p">);</span><span class="w">               </span><span class="c1">-- &#39;42&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_format</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;true&#39;</span><span class="p">);</span><span class="w">             </span><span class="c1">-- &#39;true&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_format</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;null&#39;</span><span class="p">);</span><span class="w">             </span><span class="c1">-- &#39;null&#39;</span>
</code></pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">CAST(json</span> <span class="pre">AS</span> <span class="pre">VARCHAR)</span></code> casts the JSON value to the corresponding SQL VARCHAR value.
For JSON string, JSON number, <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code> or <code class="docutils literal notranslate"><span class="pre">null</span></code>, the cast
behavior is same as the corresponding SQL type. JSON object and JSON array
cannot be cast to VARCHAR.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;{&quot;a&quot;: 1, &quot;b&quot;: 2}&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">);</span><span class="w"> </span><span class="c1">-- ERROR!</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">);</span><span class="w">        </span><span class="c1">-- ERROR!</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;&quot;abc&quot;&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">);</span><span class="w">            </span><span class="c1">-- &#39;abc&#39; (the double quote is gone)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;42&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">);</span><span class="w">               </span><span class="c1">-- &#39;42&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;true&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">);</span><span class="w">             </span><span class="c1">-- &#39;true&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="s1">&#39;null&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">);</span><span class="w">             </span><span class="c1">-- NULL</span>
</code></pre></div>
</div>
</div>
</dd></dl>

<dl class="py function objdesc">
<dt class="sig sig-object highlight py" id="json_parse">
<span class="sig-name descname"><span class="pre">json_parse</span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_parse" title="json_parse.string (Python parameter)"><span class="n"><span class="pre">string</span></span></a></em></span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="desctype"><span class="pre">json</span></span></span></span><a class="headerlink" href="#json_parse" title="Link to this definition">#</a></dt>
<dd><p>Returns the JSON value deserialized from the input JSON text.
This is inverse function to <a class="reference internal" href="#json_format" title="json_format (Python function) — Returns the JSON text serialized from the input JSON value. This is inverse function to json_parse()."><code class="xref py py-func docutils literal notranslate"><span class="pre">json_format()</span></code></a>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_parse</span><span class="p">(</span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">);</span><span class="w">   </span><span class="c1">-- JSON &#39;[1,2,3]&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_parse</span><span class="p">(</span><span class="s1">&#39;&quot;abc&quot;&#39;</span><span class="p">);</span><span class="w">       </span><span class="c1">-- JSON &#39;&quot;abc&quot;&#39;</span>
</code></pre></div>
</div>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#json_parse" title="json_parse (Python function) — Returns the JSON value deserialized from the input JSON text. This is inverse function to json_format():"><code class="xref py py-func docutils literal notranslate"><span class="pre">json_parse()</span></code></a> and <code class="docutils literal notranslate"><span class="pre">CAST(string</span> <span class="pre">AS</span> <span class="pre">JSON)</span></code> have completely
different semantics.</p>
<p><a class="reference internal" href="#json_parse" title="json_parse (Python function) — Returns the JSON value deserialized from the input JSON text. This is inverse function to json_format():"><code class="xref py py-func docutils literal notranslate"><span class="pre">json_parse()</span></code></a> expects a JSON text conforming to <span class="target" id="index-1"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7159.html"><strong>RFC 7159</strong></a>, and returns
the JSON value deserialized from the JSON text.
The JSON value can be a JSON object, a JSON array, a JSON string, a JSON number,
<code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code> or <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_parse</span><span class="p">(</span><span class="s1">&#39;not_json&#39;</span><span class="p">);</span><span class="w">         </span><span class="c1">-- ERROR!</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_parse</span><span class="p">(</span><span class="s1">&#39;[&quot;a&quot;: 1, &quot;b&quot;: 2]&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">-- JSON &#39;[&quot;a&quot;: 1, &quot;b&quot;: 2]&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_parse</span><span class="p">(</span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">);</span><span class="w">        </span><span class="c1">-- JSON &#39;[1,2,3]&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_parse</span><span class="p">(</span><span class="s1">&#39;&quot;abc&quot;&#39;</span><span class="p">);</span><span class="w">            </span><span class="c1">-- JSON &#39;&quot;abc&quot;&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_parse</span><span class="p">(</span><span class="s1">&#39;42&#39;</span><span class="p">);</span><span class="w">               </span><span class="c1">-- JSON &#39;42&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_parse</span><span class="p">(</span><span class="s1">&#39;true&#39;</span><span class="p">);</span><span class="w">             </span><span class="c1">-- JSON &#39;true&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_parse</span><span class="p">(</span><span class="s1">&#39;null&#39;</span><span class="p">);</span><span class="w">             </span><span class="c1">-- JSON &#39;null&#39;</span>
</code></pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">CAST(string</span> <span class="pre">AS</span> <span class="pre">JSON)</span></code> takes any VARCHAR value as input, and returns
a JSON string with its value set to input string.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;not_json&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span><span class="w">         </span><span class="c1">-- JSON &#39;&quot;not_json&quot;&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;[&quot;a&quot;: 1, &quot;b&quot;: 2]&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span><span class="w"> </span><span class="c1">-- JSON &#39;&quot;[\&quot;a\&quot;: 1, \&quot;b\&quot;: 2]&quot;&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span><span class="w">        </span><span class="c1">-- JSON &#39;&quot;[1, 2, 3]&quot;&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;&quot;abc&quot;&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span><span class="w">            </span><span class="c1">-- JSON &#39;&quot;\&quot;abc\&quot;&quot;&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;42&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span><span class="w">               </span><span class="c1">-- JSON &#39;&quot;42&quot;&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;true&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span><span class="w">             </span><span class="c1">-- JSON &#39;&quot;true&quot;&#39;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;null&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">JSON</span><span class="p">);</span><span class="w">             </span><span class="c1">-- JSON &#39;&quot;null&quot;&#39;</span>
</code></pre></div>
</div>
</div>
</dd></dl>

<dl class="py function objdesc">
<dt class="sig sig-object highlight py" id="json_size">
<span class="sig-name descname"><span class="pre">json_size</span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_size" title="json_size.json (Python parameter)"><span class="n"><span class="pre">json</span></span></a></em>, </span><span class="sig-param-decl"><em class="sig-param"><a class="n reference internal" href="#json_size" title="json_size.json_path (Python parameter)"><span class="n"><span class="pre">json_path</span></span></a></em></span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="desctype"><span class="pre">bigint</span></span></span></span><a class="headerlink" href="#json_size" title="Link to this definition">#</a></dt>
<dd><p>Like <a class="reference internal" href="#json_extract" title="json_extract (Python function) — Evaluates the JSONPath-like expression json_path on json (a string containing JSON) and returns the result as a JSON string:"><code class="xref py py-func docutils literal notranslate"><span class="pre">json_extract()</span></code></a>, but returns the size of the value.
For objects or arrays, the size is the number of members,
and the size of a scalar value is zero.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">json_size</span><span class="p">(</span><span class="s1">&#39;{&quot;x&quot;: {&quot;a&quot;: 1, &quot;b&quot;: 2}}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$.x&#39;</span><span class="p">);</span><span class="w">   </span><span class="c1">-- 2</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_size</span><span class="p">(</span><span class="s1">&#39;{&quot;x&quot;: [1, 2, 3]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$.x&#39;</span><span class="p">);</span><span class="w">          </span><span class="c1">-- 3</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">json_size</span><span class="p">(</span><span class="s1">&#39;{&quot;x&quot;: {&quot;a&quot;: 1, &quot;b&quot;: 2}}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$.x.a&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">-- 0</span>
</code></pre></div>
</div>
</dd></dl>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="ipaddress.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: IP Address Functions">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                IP Address Functions
              </div>
            </div>
          </a>
        
        
          
          <a href="lambda.html" class="md-footer__link md-footer__link--next" aria-label="Next: Lambda expressions">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Lambda expressions
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  
  
  <div class="md-footer-meta md-typeset">
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.tabs.link", "content.tooltipsnavigation.expand", "navigation.footer", "navigation.sections", "navigation.top", "navigation.tracking", "search.share", "search.suggest", "toc.integrate", "toc.follow"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike", "staticVersions": null, "versionPath": "../versions.json"}}</script>
    
      
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/sphinx_immaterial_theme.32136f45f91ae6956.min.js?v=a7a9472a"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
    
  </body>
</html>